scripted_gui = {
    diplo_declare_war_gui = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "diplo_declare_war"

        visible = {
            always = no #yes
        }

        ai_enabled = {
            always = no
        }

        effects = {
            declare_war_button_click = {
                ROOT = {
                    if = {
                        limit = {
                            is_faction_leader = yes
                            is_in_faction_with = PREV
                        }
                        dismantle_faction = yes
                    }
                    if = {
                        limit = {
                            PREV = {
                                is_puppet_of = ROOT
                            }
                        }
                        end_puppet = PREV
                    }
                    declare_war_on = {
                        target = PREV
                        type = annex_puppet_wargoal
                    }
                    add_to_variable = {
                        total_war_infamy = PREV.diplomatic_power
                    }
                    if = {
                        limit = {
                            check_variable = {
                                total_war_infamy > 499
                            }
                        }
                        every_country = {
                            declare_war_on = {
                                target = PREV
                                type = annex_puppet_wargoal
                            }
                        }
                    }
                }
            }
		}

		triggers = {
            declare_war_button_click_enabled = {
                NOT = {
                    OR = {
                        ROOT = {
                            has_war_with = PREV
                        }
                        ROOT = {
                            has_idea = anarchy_style
                        }
                        ROOT = {
                            is_puppet = yes
                        }
                        PREV = {
                            tag = ROOT
                        }
                    }
                }
            }
        }
    } 
    ###
    diplo_power_view_gui = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "diplo_power_view"

        ai_enabled = {
            always = no
        }

        effects = {
            #
		}

		triggers = {
            #
        }
    }   
    ###
	political_party_info_entry_gui = {
		context_type = player_context
		parent_window_name = "countrypoliticsview"
		
		window_name = "extra_political_stuff"

        ai_enabled = {
            always = no
        }
		
		effects = {
            mobilization_system_button_click = {
                upgrade_mobilization_law = yes
            }
            mobilization_system_button_right_click = {
                downgrade_mobilization_law = yes
            }
            #
            trade_system_button_click = {
                upgrade_trade_law = yes
            }
            trade_system_button_right_click = {
                downgrade_trade_law = yes
            }
            #
            economy_system_button_click = {
                upgrade_economy_law = yes
            }
            economy_system_button_right_click = {
                downgrade_economy_law = yes
            }
		}

		triggers = {
            mobilization_system_button_click_enabled = {
                has_political_power > 150
                is_puppet = no
            }
            trade_system_button_click_enabled = {
                has_political_power > 150
                is_puppet = no
            }
            economy_system_button_click_enabled = {
                has_political_power > 150
                is_puppet = no
            }
            ###
            agrarian_dudes_visible = {
				has_idea = agrarian_stage
			}
			developing_dudes_visible = {
				has_idea = developing_stage
			}
			developed_dudes_visible = {
				has_idea = developed_stage
			}
			regional_powerhouse_dudes_visible = {
				has_idea = regional_stage
			}
            continental_powerhouse_dudes_visible = {
				has_idea = continental_stage
			}
			global_powerhouse_dudes_visible = {
				has_idea = global_stage
			}
            #
            utopian_society_dudes_visible = {
				has_idea = utopian_society
			}
			stable_society_dudes_visible = {
				has_idea = stable_society
			}
			mobilizing_society_dudes_visible = {
				has_idea = mobilizing_society
			}
			flaking_society_dudes_visible = {
				has_idea = flaking_society
			}
			crumbling_society_dudes_visible = {
				has_idea = crumbling_society
			}
			periphal_anarchy_dudes_visible = {
				has_idea = periphal_anarchy
			}
            #
			digital_democracy_dudes_visible = {
				has_idea = digital_democracy
			}
			oligarchic_dudes_visible = {
				has_idea = synthetic_democracy
			}
			minarchist_dudes_visible = {
				has_idea = corporate_libertarianism
			}
			communal_dudes_visible = {
				has_idea = communal_parity
			}
			autocratic_dudes_visible = {
				has_idea = military_government
			}
			anarchy_dudes_visible = {
				has_idea = anarchy_style
			}
		}
	}
    ###
    political_party_info_entry_2_gui = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "extra_political_stuff"

        ai_enabled = {
            always = no
        }
		
		effects = {
            #
		}

		triggers = {
            mobilization_system_button_click_enabled = {
                always = no
            }
            trade_system_button_click_enabled = {
                always = no
            }
            economy_system_button_click_enabled = {
                always = no
            }
            ###
            agrarian_dudes_visible = {
				has_idea = agrarian_stage
			}
			developing_dudes_visible = {
				has_idea = developing_stage
			}
			developed_dudes_visible = {
				has_idea = developed_stage
			}
			regional_powerhouse_dudes_visible = {
				has_idea = regional_stage
			}
            continental_powerhouse_dudes_visible = {
				has_idea = continental_stage
			}
			global_powerhouse_dudes_visible = {
				has_idea = global_stage
			}
            #
            utopian_society_dudes_visible = {
				has_idea = utopian_society
			}
			stable_society_dudes_visible = {
				has_idea = stable_society
			}
			mobilizing_society_dudes_visible = {
				has_idea = mobilizing_society
			}
			flaking_society_dudes_visible = {
				has_idea = flaking_society
			}
			crumbling_society_dudes_visible = {
				has_idea = crumbling_society
			}
			periphal_anarchy_dudes_visible = {
				has_idea = periphal_anarchy
			}
            #
			digital_democracy_dudes_visible = {
				has_idea = digital_democracy
			}
			oligarchic_dudes_visible = {
				has_idea = synthetic_democracy
			}
			minarchist_dudes_visible = {
				has_idea = corporate_libertarianism
			}
			communal_dudes_visible = {
				has_idea = communal_parity
			}
			autocratic_dudes_visible = {
				has_idea = military_government
			}
			anarchy_dudes_visible = {
				has_idea = anarchy_style
			}
		}
	}

	industrial_power_gui = {
		context_type = player_context
		parent_window_name = topbar
		
		window_name = "industrial_power_container"
		
		visible = {
            always = yes
		}

        ai_enabled = {
            always = no
        }
		
		effects = {
			#
		}
	}

	politics_tab = {
		window_name = "newmodtopbar_button"
		context_type = player_context
		parent_window_token = top_bar
		
		visible = {
    	    always = yes
		}
        effects = {
            politics_button_click = {
                if = {
                    limit = {
                        has_country_flag = political_moment_flag
                    }
                    clr_country_flag = political_moment_flag
                    clr_country_flag = international_moment_flag
                }
                else = {
                    set_country_flag = political_moment_flag
                }
            }
            economic_button_click = {
                if = {
                    limit = {
                        has_country_flag = south_pole_moment_flag
                    }
                    clr_country_flag = south_pole_moment_flag
                    set_country_flag = virtues_and_culture_moment_flag
                }
                else_if = {
                    limit = {
                        has_country_flag = virtues_and_culture_moment_flag
                    }
                    clr_country_flag = virtues_and_culture_moment_flag
                }
                else = {
                    set_country_flag = virtues_and_culture_moment_flag
                }
            }
            south_pole_button_click = {
                if = {
                    limit = {
                        has_country_flag = virtues_and_culture_moment_flag
                    }
                    clr_country_flag = virtues_and_culture_moment_flag
                    set_country_flag = south_pole_moment_flag
                }
                else_if = {
                    limit = {
                        has_country_flag = south_pole_moment_flag
                    }
                    clr_country_flag = south_pole_moment_flag
                }
                else = {
                    set_country_flag = south_pole_moment_flag
                }
            }
        }
        
        triggers = {
            politics_alert_visible = {
                has_global_flag = resolution_proposed
            }
            south_pole_button_click_enabled = {
                NOT = { has_idea = agrarian_stage }
                NOT = { has_idea = developing_stage }
                NOT = { has_idea = anarchy_style }
                NOT = { tag = ADU }
            }
        }

        ai_enabled = {
            always = no
        }
        
	}

	open_window = {
        window_name = "scripted_open_window_button"
        context_type = player_context
		parent_window_name = topbar
         
        visible = {
            always = yes
        }
        effects = {
            open_window_button_click = {
                if = {
                    limit = {
                        has_country_flag = opening_screen_flag
                    }
                    clr_country_flag = opening_screen_flag
                    clr_country_flag = opening_screen_country_overview_flag
                    clr_country_flag = opening_screen_setting_explanation_flag
                    clr_country_flag = opening_screen_tips_and_stuff_flag
                }
                else = {
                    set_country_flag = opening_screen_flag
                    set_country_flag = opening_screen_intro_flag
                }
            }
        }
    }

    opening_window = {
        window_name = "scripted_opening_window"
        context_type = player_context
		parent_window_token = top_bar
         
        visible = {
            has_country_flag = opening_screen_flag
        }
        effects = {
            opening_close_click = {
                clr_country_flag = opening_screen_flag
                clr_country_flag = opening_screen_country_overview_flag
                clr_country_flag = opening_screen_setting_explanation_flag
                clr_country_flag = opening_screen_tips_and_stuff_flag
            }
            intro_sequence_button_click = {
                set_country_flag = opening_screen_intro_flag
                clr_country_flag = opening_screen_country_overview_flag
                clr_country_flag = opening_screen_setting_explanation_flag
                clr_country_flag = opening_screen_tips_and_stuff_flag
            }
            country_overview_button_click = {
                set_country_flag = opening_screen_country_overview_flag
                clr_country_flag = opening_screen_intro_flag
                clr_country_flag = opening_screen_setting_explanation_flag
                clr_country_flag = opening_screen_tips_and_stuff_flag
            }
            setting_explanation_button_click = {
                set_country_flag = opening_screen_setting_explanation_flag
                clr_country_flag = opening_screen_intro_flag
                clr_country_flag = opening_screen_country_overview_flag
                clr_country_flag = opening_screen_tips_and_stuff_flag
            }
            tips_and_stuff_button_click = {
                set_country_flag = opening_screen_tips_and_stuff_flag
                clr_country_flag = opening_screen_intro_flag
                clr_country_flag = opening_screen_country_overview_flag
                clr_country_flag = opening_screen_setting_explanation_flag
            }
        }
        triggers = {
            #
            country_overview_button_click_enabled = {
                always = no
            }
            setting_explanation_button_click_enabled = {
                always = no
            }
            tips_and_stuff_button_click_enabled = {
                always = no
            }
            #
            BE_intro_visible = {
                has_country_flag = opening_screen_intro_flag
            }
            opening_title_event_visible = {
                has_country_flag = opening_screen_intro_flag
            }
            opening_countdown_event_visible = {
                has_country_flag = opening_screen_intro_flag
            }
            opening_desc_event_visible = {
                has_country_flag = opening_screen_intro_flag
            }
            gameplay_header_textbox_visible = {
                has_country_flag = opening_screen_country_overview_flag
            }
            gameplay_desc_textbox_visible = {
                has_country_flag = opening_screen_country_overview_flag
            }
            lore_header_textbox_visible = {
                has_country_flag = opening_screen_setting_explanation_flag
            }
            lore_desc_textbox_visible = {
                has_country_flag = opening_screen_setting_explanation_flag
            }
            misc_header_textbox_visible = {
                has_country_flag = opening_screen_tips_and_stuff_flag
            }
            misc_desc_textbox_visible = {
                has_country_flag = opening_screen_tips_and_stuff_flag
            }
        }
    }
    
}

