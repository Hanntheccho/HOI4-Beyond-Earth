scripted_gui = {
    
    virtues_and_culture_stuff = {
        window_name = "virtues_and_culture_stuff"
        context_type = player_context
		#parent_window_token = top_bar
         
        visible = {
            if = {
                limit = {
                    is_ai = yes
                }
                always = yes
            }
            else = {
                has_country_flag = virtues_and_culture_moment_flag
            }
        }
        
        effects = {
            virtues_and_culture_close_click = {
                ROOT = {
                    clr_country_flag = virtues_and_culture_moment_flag
                }
            }
            reset_virtues_button_click = {
                ROOT = {
                    clr_country_flag = has_hostility_tier1
                    remove_dynamic_modifier = { modifier = hostility_tier1_modifier }
                    clr_country_flag = has_hostility_tier2
                    remove_dynamic_modifier = { modifier = hostility_tier2_modifier }
                    clr_country_flag = has_hostility_tier2
                    remove_dynamic_modifier = { modifier = hostility_tier2_modifier }
                    clr_country_flag = has_benevolence_tier1
                    remove_dynamic_modifier = { modifier = benevolence_tier1_modifier }
                    clr_country_flag = has_benevolence_tier2
                    remove_dynamic_modifier = { modifier = benevolence_tier2_modifier }
                    clr_country_flag = has_benevolence_tier3
                    #clr_country_flag = benevolence_three
                    remove_ideas = benevolence_tier3_idea
                    clr_country_flag = has_tradition_tier1
                    remove_dynamic_modifier = { modifier = tradition_tier1_modifier }
                    clr_country_flag = has_tradition_tier2
                    clr_country_flag = tradition_two
                    #remove_dynamic_modifier = { modifier = tradition_tier2_modifier }
                    clr_country_flag = has_tradition_tier3
                    clr_country_flag = tradition_three
                    clr_country_flag = has_progress_tier1
                    remove_dynamic_modifier = { modifier = progress_tier1_modifier }
                    clr_country_flag = has_progress_tier2
                    clr_country_flag = progress_two
                    clr_country_flag = has_progress_tier3
                    remove_dynamic_modifier = { modifier = progress_tier3_modifier }
                    clr_country_flag = has_body_tier1
                    remove_dynamic_modifier = { modifier = body_tier1_modifier }
                    clr_country_flag = has_body_tier2
                    remove_dynamic_modifier = { modifier = body_tier2_modifier }
                    clr_country_flag = has_body_tier3
                    remove_dynamic_modifier = { modifier = body_tier3_modifier }
                    clr_country_flag = has_mind_tier1
                    remove_dynamic_modifier = { modifier = mind_tier1_modifier }
                    clr_country_flag = has_mind_tier2
                    remove_dynamic_modifier = { modifier = mind_tier2_modifier }
                    clr_country_flag = has_mind_tier3
                    remove_dynamic_modifier = { modifier = mind_tier3_modifier }
                    clr_country_flag = has_amplification_tier1
                    remove_dynamic_modifier = { modifier = amplification_tier1_modifier }
                    clr_country_flag = has_amplification_tier2
                    remove_dynamic_modifier = { modifier = amplification_tier2_modifier }
                    clr_country_flag = has_amplification_tier3
                    remove_dynamic_modifier = { modifier = amplification_tier3_modifier }
                    clr_country_flag = has_expansion_tier1
                    remove_dynamic_modifier = { modifier = expansion_tier1_modifier }
                    clr_country_flag = has_expansion_tier2
                    remove_dynamic_modifier = { modifier = expansion_tier2_modifier }
                    if = {
                        limit = {
                            has_country_flag = has_expansion_tier3
                        }
                        clr_country_flag = has_expansion_tier3
                        subtract_from_variable = { devastation_modifier = 3 }
                    }
                    clr_country_flag = expansion_three
                    clr_country_flag = has_conservation_tier1
                    remove_dynamic_modifier = { modifier = conservation_tier1_modifier }
                    clr_country_flag = has_conservation_tier2
                    remove_dynamic_modifier = { modifier = conservation_tier2_modifier }
                    clr_country_flag = has_conservation_tier3
                    remove_dynamic_modifier = { modifier = conservation_tier3_modifier }
                    clr_country_flag = has_consumption_tier1
                    clr_country_flag = consumption_one
                    #remove_dynamic_modifier = { modifier = consumption_tier1_modifier }
                    clr_country_flag = has_consumption_tier2
                    clr_country_flag = consumption_two
                    if = {
                        limit = {
                            has_country_flag = has_consumption_tier3
                        }
                        clr_country_flag = has_consumption_tier3
                        subtract_from_variable = { devastation_modifier = 3 }
                    }
                    clr_country_flag = consumption_three
                    clr_country_flag = has_prosperity_tier1
                    remove_dynamic_modifier = { modifier = prosperity_tier1_modifier }
                    clr_country_flag = has_prosperity_tier2
                    clr_country_flag = prosperity_two
                    remove_dynamic_modifier = { modifier = prosperity_tier2_modifier }
                    clr_country_flag = has_prosperity_tier3
                    clr_country_flag = prosperity_three
                    clr_country_flag = has_efficiency_tier1
                    remove_dynamic_modifier = { modifier = efficiency_tier1_modifier }
                    clr_country_flag = has_efficiency_tier2
                    remove_dynamic_modifier = { modifier = efficiency_tier2_modifier }
                    clr_country_flag = has_efficiency_tier3
                    remove_dynamic_modifier = { modifier = efficiency_tier3_modifier }
                    clr_country_flag = has_order_tier1
                    clr_country_flag = order_one
                    clr_country_flag = has_order_tier2
                    remove_dynamic_modifier = { modifier = order_tier2_modifier }
                    if = {
                        limit = {
                            has_country_flag = has_order_tier3
                        }
                        clr_country_flag = has_order_tier3
                        subtract_from_variable = { devastation_modifier = 3 }
                    }
                    clr_country_flag = order_three
                    clr_country_flag = has_liberty_tier1
                    clr_country_flag = liberty_one
                    clr_country_flag = has_liberty_tier2
                    remove_dynamic_modifier = { modifier = liberty_tier2_modifier }
                    if = {
                        limit = {
                            has_country_flag = has_liberty_tier3
                        }
                        clr_country_flag = has_liberty_tier3
                        subtract_from_variable = { devastation_modifier = 3 }
                    }
                    clr_country_flag = liberty_three
                    #clr_country_flag = cultural_reset_available
                }
                add_to_variable = { cultural_power = cultural_power_spent }
                #add_to_variable = { corruption_variable = corruption_clear }
                clear_variable = cultural_power_spent
                #clear_variable = corruption_clear
            }
            #hostility_benevolence_collapse_button_click = {
            #    collapse_tradition_progress = yes
            #    collapse_body_mind = yes
            #    collapse_amplification_expansion = yes
            #    collapse_conservation_consumption = yes
            #    collapse_prosperity_efficiency = yes
            #    collapse_order_liberty = yes
            #    if = {
            #        limit = {
            #            NOT = {
            #                ROOT = {
            #                    has_country_flag = hostility_benevolence_flag
            #                }
            #            }
            #        }
            #        ROOT = {
            #            set_country_flag = hostility_benevolence_flag
            #        }
            #        set_variable = { hostility_benevolence_position_var = 727 }
            #        set_variable = { hostility_benevolence_exclusive_position_var = 753 }
            #        set_variable = { hostility_benevolence_bg_position_var = 507 }
            #        set_variable = { hostility_benevolence_effect_position_var = 428 }
            #        set_variable = { prosperity_efficiency_position_var = 812 }
            #        set_variable = { prosperity_efficiency_exclusive_position_var = 838 }
            #        set_variable = { prosperity_efficiency_bg_position_var = 592 }
            #        set_variable = { prosperity_efficiency_effect_position_var = 300 }
            #        set_variable = { order_liberty_position_var = 897 }
            #        set_variable = { order_liberty_exclusive_position_var = 923 }
            #        set_variable = { order_liberty_bg_position_var = 677 }
            #        set_variable = { order_liberty_effect_position_var = 673 }
            #    }
            #    else = {
            #        ROOT = {
            #            clr_country_flag = hostility_benevolence_flag
            #        }
            #        set_variable = { hostility_benevolence_position_var = 427 }
            #        set_variable = { hostility_benevolence_exclusive_position_var = 453 }
            #        set_variable = { hostility_benevolence_bg_position_var = 207 }
            #        set_variable = { hostility_benevolence_effect_position_var = 128 }
            #        set_variable = { prosperity_efficiency_position_var = 512 }
            #        set_variable = { prosperity_efficiency_exclusive_position_var = 538 }
            #        set_variable = { prosperity_efficiency_bg_position_var = 292 }
            #        set_variable = { prosperity_efficiency_effect_position_var = 300 }
            #        set_variable = { order_liberty_position_var = 597 }
            #        set_variable = { order_liberty_exclusive_position_var = 623 }
            #        set_variable = { order_liberty_bg_position_var = 377 }
            #        set_variable = { order_liberty_effect_position_var = 373 }
            #    }
            #}
            hostility_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_benevolence_tier1
                                    has_country_flag = has_hostility_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_hostility_tier1
                    add_dynamic_modifier = {
                        modifier = hostility_tier1_modifier
                    }
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_hostility_tier2
                                        has_country_flag = has_benevolence_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_hostility_tier1
                                    has_country_flag = has_benevolence_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_hostility_tier2
                    add_dynamic_modifier = {
                        modifier = hostility_tier2_modifier
                    }
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_hostility_tier2
                                has_country_flag = has_benevolence_tier2
                            }
                        }
                    }
                    set_country_flag = has_hostility_tier3
                    add_dynamic_modifier = {
                        modifier = hostility_tier3_modifier
                    }
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
            benevolence_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_hostility_tier1
                                    has_country_flag = has_benevolence_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_benevolence_tier1
                    add_dynamic_modifier = {
                        modifier = benevolence_tier1_modifier
                    }
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_hostility_tier2
                                        has_country_flag = has_benevolence_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_hostility_tier1
                                    has_country_flag = has_benevolence_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_benevolence_tier2
                    add_dynamic_modifier = {
                        modifier = benevolence_tier2_modifier
                    }
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_hostility_tier2
                                has_country_flag = has_benevolence_tier2
                            }
                        }
                    }
                    set_country_flag = has_benevolence_tier3
                    add_dynamic_modifier = {
                        modifier = benevolence_tier3_modifier
                    }
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
            #tradition_progress_collapse_button_click = {
            #    collapse_hostility_benevolence = yes
            #    collapse_body_mind = yes
            #    collapse_amplification_expansion = yes
            #    collapse_conservation_consumption = yes
            #    collapse_prosperity_efficiency = yes
            #    collapse_order_liberty = yes
            #    if = {
            #        limit = {
            #            NOT = {
            #                ROOT = {
            #                    has_country_flag = tradition_progress_flag
            #                }
            #            }
            #        }
            #        ROOT = {
            #            set_country_flag = tradition_progress_flag
            #        }
            #        set_variable = { hostility_benevolence_position_var = 692 }
            #        set_variable = { hostility_benevolence_exclusive_position_var = 718 }
            #        set_variable = { hostility_benevolence_bg_position_var = 472 }
            #        set_variable = { hostility_benevolence_effect_position_var = 393 }
            #        set_variable = { body_mind_position_var = 437 }
            #        set_variable = { body_mind_exclusive_position_var = 463 }
            #        set_variable = { body_mind_bg_position_var = 521 }
            #        set_variable = { body_mind_effect_position_var = 523 }
            #        set_variable = { amplification_expansion_position_var = 607 }
            #        set_variable = { amplification_expansion_exclusive_position_var = 633 }
            #        set_variable = { amplification_expansion_bg_position_var = 691 }
            #        set_variable = { amplification_expansion_effect_position_var = 693 }
            #        set_variable = { conservation_consumption_position_var = 522 }
            #        set_variable = { conservation_consumption_exclusive_position_var = 548 }
            #        set_variable = { conservation_consumption_bg_position_var = 606 }
            #        set_variable = { conservation_consumption_effect_position_var = 608 }
            #        set_variable = { prosperity_efficiency_position_var = 777 }
            #        set_variable = { prosperity_efficiency_exclusive_position_var = 803 }
            #        set_variable = { prosperity_efficiency_bg_position_var = 557 }
            #        set_variable = { prosperity_efficiency_effect_position_var = 565 }
            #        set_variable = { order_liberty_position_var = 862 }
            #        set_variable = { order_liberty_exclusive_position_var = 888 }
            #        set_variable = { order_liberty_bg_position_var = 642 }
            #        set_variable = { order_liberty_effect_position_var = 638 }
            #    }
            #    else = {
            #        ROOT = {
            #            clr_country_flag = tradition_progress_flag
            #        }
            #        set_variable = { hostility_benevolence_position_var = 427 }
            #        set_variable = { hostility_benevolence_exclusive_position_var = 453 }
            #        set_variable = { hostility_benevolence_bg_position_var = 207 }
            #        set_variable = { hostility_benevolence_effect_position_var = 128 }
            #        set_variable = { body_mind_position_var = 172 }
            #        set_variable = { body_mind_exclusive_position_var = 198 }
            #        set_variable = { body_mind_bg_position_var = 256 }
            #        set_variable = { body_mind_effect_position_var = 258 }
            #        set_variable = { amplification_expansion_position_var = 342 }
            #        set_variable = { amplification_expansion_exclusive_position_var = 368 }
            #        set_variable = { amplification_expansion_bg_position_var = 426 }
            #        set_variable = { amplification_expansion_effect_position_var = 428 }
            #        set_variable = { conservation_consumption_position_var = 257 }
            #        set_variable = { conservation_consumption_exclusive_position_var = 283 }
            #        set_variable = { conservation_consumption_bg_position_var = 341 }
            #        set_variable = { conservation_consumption_effect_position_var = 343 }
            #        set_variable = { prosperity_efficiency_position_var = 512 }
            #        set_variable = { prosperity_efficiency_exclusive_position_var = 538 }
            #        set_variable = { prosperity_efficiency_bg_position_var = 292 }
            #        set_variable = { prosperity_efficiency_effect_position_var = 300 }
            #        set_variable = { order_liberty_position_var = 597 }
            #        set_variable = { order_liberty_exclusive_position_var = 623 }
            #        set_variable = { order_liberty_bg_position_var = 377 }
            #        set_variable = { order_liberty_effect_position_var = 373 }
            #    }
            #}
            tradition_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_progress_tier1
                                    has_country_flag = has_tradition_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_tradition_tier1
                    add_dynamic_modifier = {
                        modifier = tradition_tier1_modifier
                    }
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_progress_tier2
                                        has_country_flag = has_tradition_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_progress_tier1
                                    has_country_flag = has_tradition_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_tradition_tier2
                    set_country_flag = tradition_two
                    #add_dynamic_modifier = {
                    #    modifier = tradition_tier2_modifier
                    #}
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_progress_tier2
                                has_country_flag = has_tradition_tier2
                            }
                        }
                    }
                    set_country_flag = has_tradition_tier3
                    set_country_flag = tradition_three
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
            progress_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_tradition_tier1
                                    has_country_flag = has_progress_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_progress_tier1
                    add_dynamic_modifier = {
                        modifier = progress_tier1_modifier
                    }
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_tradition_tier2
                                        has_country_flag = has_progress_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_tradition_tier1
                                    has_country_flag = has_progress_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_progress_tier2
                    set_country_flag = progress_two
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_tradition_tier2
                                has_country_flag = has_progress_tier2
                            }
                        }
                    }
                    set_country_flag = has_progress_tier3
                    add_dynamic_modifier = {
                        modifier = progress_tier3_modifier
                    }
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
            #body_mind_collapse_button_click = {
            #    collapse_hostility_benevolence = yes
            #    collapse_tradition_progress = yes
            #    collapse_amplification_expansion = yes
            #    collapse_conservation_consumption = yes
            #    collapse_prosperity_efficiency = yes
            #    collapse_order_liberty = yes
            #    if = {
            #        limit = {
            #            NOT = {
            #                ROOT = {
            #                    has_country_flag = body_mind_flag
            #                }
            #            }
            #        }
            #        ROOT = {
            #            set_country_flag = body_mind_flag
            #        }
            #        set_variable = { hostility_benevolence_position_var = 647 }
            #        set_variable = { hostility_benevolence_exclusive_position_var = 673 }
            #        set_variable = { hostility_benevolence_bg_position_var = 427 }
            #        set_variable = { hostility_benevolence_effect_position_var = 348 }
            #        set_variable = { amplification_expansion_position_var = 562 }
            #        set_variable = { amplification_expansion_exclusive_position_var = 588 }
            #        set_variable = { amplification_expansion_bg_position_var = 646 }
            #        set_variable = { amplification_expansion_effect_position_var = 648 }
            #        set_variable = { conservation_consumption_position_var = 477 }
            #        set_variable = { conservation_consumption_exclusive_position_var = 303 }
            #        set_variable = { conservation_consumption_bg_position_var = 561 }
            #        set_variable = { conservation_consumption_effect_position_var = 663 }
            #        set_variable = { prosperity_efficiency_position_var = 732 }
            #        set_variable = { prosperity_efficiency_exclusive_position_var = 758 }
            #        set_variable = { prosperity_efficiency_bg_position_var = 512 }
            #        set_variable = { prosperity_efficiency_effect_position_var = 520 }
            #        set_variable = { order_liberty_position_var = 817 }
            #        set_variable = { order_liberty_exclusive_position_var = 843 }
            #        set_variable = { order_liberty_bg_position_var = 597 }
            #        set_variable = { order_liberty_effect_position_var = 593 }
            #    }
            #    else = {
            #        ROOT = {
            #            clr_country_flag = body_mind_flag
            #        }
            #        set_variable = { hostility_benevolence_position_var = 427 }
            #        set_variable = { hostility_benevolence_exclusive_position_var = 453 }
            #        set_variable = { hostility_benevolence_bg_position_var = 207 }
            #        set_variable = { hostility_benevolence_effect_position_var = 128 }
            #        set_variable = { amplification_expansion_position_var = 342 }
            #        set_variable = { amplification_expansion_exclusive_position_var = 368 }
            #        set_variable = { amplification_expansion_bg_position_var = 426 }
            #        set_variable = { amplification_expansion_effect_position_var = 428 }
            #        set_variable = { conservation_consumption_position_var = 257 }
            #        set_variable = { conservation_consumption_position_var = 257 }
            #        set_variable = { conservation_consumption_exclusive_position_var = 283 }
            #        set_variable = { conservation_consumption_bg_position_var = 341 }
            #        set_variable = { conservation_consumption_effect_position_var = 343 }
            #        set_variable = { prosperity_efficiency_position_var = 512 }
            #        set_variable = { prosperity_efficiency_exclusive_position_var = 538 }
            #        set_variable = { prosperity_efficiency_bg_position_var = 292 }
            #        set_variable = { prosperity_efficiency_effect_position_var = 300 }
            #        set_variable = { order_liberty_position_var = 597 }
            #        set_variable = { order_liberty_exclusive_position_var = 623 }
            #        set_variable = { order_liberty_bg_position_var = 377 }
            #        set_variable = { order_liberty_effect_position_var = 373 }
            #        }
            #}
            body_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_mind_tier1
                                    has_country_flag = has_body_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_body_tier1
                    add_dynamic_modifier = {
                        modifier = body_tier1_modifier
                    }
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_mind_tier2
                                        has_country_flag = has_body_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_mind_tier1
                                    has_country_flag = has_body_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_body_tier2
                    add_dynamic_modifier = {
                        modifier = body_tier2_modifier
                    }
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_mind_tier2
                                has_country_flag = has_body_tier2
                            }
                        }
                    }
                    set_country_flag = has_body_tier3
                    add_dynamic_modifier = {
                        modifier = body_tier3_modifier
                    }
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
            mind_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_body_tier1
                                    has_country_flag = has_mind_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_mind_tier1
                    add_dynamic_modifier = {
                        modifier = mind_tier1_modifier
                    }
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_body_tier2
                                        has_country_flag = has_mind_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_body_tier1
                                    has_country_flag = has_mind_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_mind_tier2
                    add_dynamic_modifier = {
                        modifier = mind_tier2_modifier
                    }
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_body_tier2
                                has_country_flag = has_mind_tier2
                            }
                        }
                    }
                    set_country_flag = has_mind_tier3
                    add_dynamic_modifier = {
                        modifier = mind_tier3_modifier
                    }
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
            #amplification_expansion_collapse_button_click = {
            #    collapse_hostility_benevolence = yes
            #    collapse_tradition_progress = yes
            #    collapse_body_mind = yes
            #    collapse_conservation_consumption = yes
            #    collapse_prosperity_efficiency = yes
            #    collapse_order_liberty = yes
            #    if = {
            #        limit = {
            #            NOT = {
            #                ROOT = {
            #                    has_country_flag = amplification_expansion_flag
            #                }
            #            }
            #        }
            #        ROOT = {
            #            set_country_flag = amplification_expansion_flag
            #        }
            #        set_variable = { hostility_benevolence_position_var = 657 }
            #        set_variable = { hostility_benevolence_exclusive_position_var = 683 }
            #        set_variable = { hostility_benevolence_bg_position_var = 437 }
            #        set_variable = { hostility_benevolence_effect_position_var = 358 }
            #        set_variable = { prosperity_efficiency_position_var = 742 }
            #        set_variable = { prosperity_efficiency_exclusive_position_var = 768 }
            #        set_variable = { prosperity_efficiency_bg_position_var = 522 }
            #        set_variable = { prosperity_efficiency_effect_position_var = 530 }
            #        set_variable = { order_liberty_position_var = 827 }
            #        set_variable = { order_liberty_exclusive_position_var = 853 }
            #        set_variable = { order_liberty_bg_position_var = 607 }
            #        set_variable = { order_liberty_effect_position_var = 603 }
            #    }
            #    else = {
            #        ROOT = {
            #            clr_country_flag = amplification_expansion_flag
            #        }
            #        set_variable = { hostility_benevolence_position_var = 427 }
            #        set_variable = { hostility_benevolence_exclusive_position_var = 453 }
            #        set_variable = { hostility_benevolence_bg_position_var = 207 }
            #        set_variable = { hostility_benevolence_effect_position_var = 128 }
            #        set_variable = { prosperity_efficiency_position_var = 512 }
            #        set_variable = { prosperity_efficiency_exclusive_position_var = 538 }
            #        set_variable = { prosperity_efficiency_bg_position_var = 292 }
            #        set_variable = { prosperity_efficiency_effect_position_var = 300 }
            #        set_variable = { order_liberty_position_var = 597 }
            #        set_variable = { order_liberty_exclusive_position_var = 623 }
            #        set_variable = { order_liberty_bg_position_var = 377 }
            #        set_variable = { order_liberty_effect_position_var = 373 }
            #    }
            #}
            amplification_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_expansion_tier1
                                    has_country_flag = has_amplification_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_amplification_tier1
                    add_dynamic_modifier = {
                        modifier = amplification_tier1_modifier
                    }
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_expansion_tier2
                                        has_country_flag = has_amplification_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_expansion_tier1
                                    has_country_flag = has_amplification_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_amplification_tier2
                    add_dynamic_modifier = {
                        modifier = amplification_tier2_modifier
                    }
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_expansion_tier2
                                has_country_flag = has_amplification_tier2
                            }
                        }
                    }
                    set_country_flag = has_amplification_tier3
                    add_dynamic_modifier = {
                        modifier = amplification_tier3_modifier
                    }
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
            expansion_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_amplification_tier1
                                    has_country_flag = has_expansion_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_expansion_tier1
                    add_dynamic_modifier = {
                        modifier = expansion_tier1_modifier
                    }
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_amplification_tier2
                                        has_country_flag = has_expansion_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_amplification_tier1
                                    has_country_flag = has_expansion_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_expansion_tier2
                    add_dynamic_modifier = {
                        modifier = expansion_tier2_modifier
                    }
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_amplification_tier2
                                has_country_flag = has_expansion_tier2
                            }
                        }
                    }
                    set_country_flag = has_expansion_tier3
                    set_country_flag = expansion_three
                    add_to_variable = { devastation_modifier = 3 }
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
            #conservation_consumption_collapse_button_click = {
            #    collapse_hostility_benevolence = yes
            #    collapse_tradition_progress = yes
            #    collapse_body_mind = yes
            #    collapse_amplification_expansion = yes
            #    collapse_prosperity_efficiency = yes
            #    collapse_order_liberty = yes
            #    if = {
            #        limit = {
            #            NOT = {
            #                ROOT = {
            #                    has_country_flag = conservation_consumption_flag
            #                }
            #            }
            #        }
            #        ROOT = {
            #            set_country_flag = conservation_consumption_flag
            #        }
            #        set_variable = { amplification_expansion_position_var = 600 }
            #        set_variable = { amplification_expansion_exclusive_position_var = 626 }
            #        set_variable = { amplification_expansion_bg_position_var = 684 }
            #        set_variable = { amplification_expansion_effect_position_var = 686 }
            #        set_variable = { hostility_benevolence_position_var = 685 }
            #        set_variable = { hostility_benevolence_exclusive_position_var = 711 }
            #        set_variable = { hostility_benevolence_bg_position_var = 432 }
            #        set_variable = { hostility_benevolence_effect_position_var = 353 }
            #        set_variable = { prosperity_efficiency_position_var = 770 }
            #        set_variable = { prosperity_efficiency_exclusive_position_var = 796 }
            #        set_variable = { prosperity_efficiency_bg_position_var = 517 }
            #        set_variable = { prosperity_efficiency_effect_position_var = 525 }
            #        set_variable = { order_liberty_position_var = 855 }
            #        set_variable = { order_liberty_exclusive_position_var = 881 }
            #        set_variable = { order_liberty_bg_position_var = 602 }
            #        set_variable = { order_liberty_effect_position_var = 598 }
            #    }
            #    else = {
            #        ROOT = {
            #            clr_country_flag = conservation_consumption_flag
            #        }
            #        set_variable = { amplification_expansion_position_var = 342 }
            #        set_variable = { amplification_expansion_exclusive_position_var = 368 }
            #        set_variable = { amplification_expansion_bg_position_var = 426 }
            #        set_variable = { amplification_expansion_effect_position_var = 428 }
            #        set_variable = { hostility_benevolence_position_var = 427 }
            #        set_variable = { hostility_benevolence_exclusive_position_var = 453 }
            #        set_variable = { hostility_benevolence_bg_position_var = 207 }
            #        set_variable = { hostility_benevolence_effect_position_var = 128 }
            #        set_variable = { prosperity_efficiency_position_var = 512 }
            #        set_variable = { prosperity_efficiency_exclusive_position_var = 538 }
            #        set_variable = { prosperity_efficiency_bg_position_var = 292 }
            #        set_variable = { prosperity_efficiency_effect_position_var = 300 }
            #        set_variable = { order_liberty_position_var = 597 }
            #        set_variable = { order_liberty_exclusive_position_var = 623 }
            #        set_variable = { order_liberty_bg_position_var = 377 }
            #        set_variable = { order_liberty_effect_position_var = 373 }
            #    }
            #}
            conservation_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_consumption_tier1
                                    has_country_flag = has_conservation_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_conservation_tier1
                    add_dynamic_modifier = {
                        modifier = conservation_tier1_modifier
                    }
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_consumption_tier2
                                        has_country_flag = has_conservation_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_consumption_tier1
                                    has_country_flag = has_conservation_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_conservation_tier2
                    add_dynamic_modifier = {
                        modifier = conservation_tier2_modifier
                    }
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_consumption_tier2
                                has_country_flag = has_conservation_tier2
                            }
                        }
                    }
                    set_country_flag = has_conservation_tier3
                    add_dynamic_modifier = {
                        modifier = conservation_tier3_modifier
                    }
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
            consumption_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_conservation_tier1
                                    has_country_flag = has_consumption_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_consumption_tier1
                    set_country_flag = consumption_one
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_conservation_tier2
                                        has_country_flag = has_consumption_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_conservation_tier1
                                    has_country_flag = has_consumption_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_consumption_tier2
                    set_country_flag = consumption_two
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_conservation_tier2
                                has_country_flag = has_consumption_tier2
                            }
                        }
                    }
                    set_country_flag = has_consumption_tier3
                    set_country_flag = consumption_three
                    add_to_variable = { devastation_modifier = 3 }
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
            #prosperity_efficiency_collapse_button_click = {
            #    collapse_hostility_benevolence = yes
            #    collapse_tradition_progress = yes
            #    collapse_body_mind = yes
            #    collapse_amplification_expansion = yes
            #    collapse_conservation_consumption = yes
            #    collapse_order_liberty = yes
            #    if = {
            #        limit = {
            #            NOT = {
            #                ROOT = {
            #                    has_country_flag = prosperity_efficiency_flag
            #                }
            #            }
            #        }
            #        ROOT = {
            #            set_country_flag = prosperity_efficiency_flag
            #        }
            #        set_variable = { prosperity_efficiency_position_var = 737 }
            #        set_variable = { prosperity_efficiency_exclusive_position_var = 763 }
            #        set_variable = { prosperity_efficiency_bg_position_var = 517 }
            #        set_variable = { prosperity_efficiency_effect_position_var = 513 }
            #        set_variable = { order_liberty_position_var = 822 }
            #        set_variable = { order_liberty_exclusive_position_var = 848 }
            #        set_variable = { order_liberty_bg_position_var = 602 }
            #        set_variable = { order_liberty_effect_position_var = 598 }
            #    }
            #    else = {
            #        ROOT = {
            #            clr_country_flag = prosperity_efficiency_flag
            #        }
            #        set_variable = { prosperity_efficiency_position_var = 512 }
            #        set_variable = { prosperity_efficiency_exclusive_position_var = 538 }
            #        set_variable = { prosperity_efficiency_bg_position_var = 292 }
            #        set_variable = { prosperity_efficiency_effect_position_var = 300 }
            #        set_variable = { order_liberty_position_var = 597 }
            #        set_variable = { order_liberty_exclusive_position_var = 623 }
            #        set_variable = { order_liberty_bg_position_var = 377 }
            #        set_variable = { order_liberty_effect_position_var = 373 }
            #    }
            #}
            prosperity_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_efficiency_tier1
                                    has_country_flag = has_prosperity_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_prosperity_tier1
                    add_dynamic_modifier = {
                        modifier = prosperity_tier1_modifier
                    }
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_efficiency_tier2
                                        has_country_flag = has_prosperity_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_efficiency_tier1
                                    has_country_flag = has_prosperity_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_prosperity_tier2
                    add_dynamic_modifier = {
                        modifier = prosperity_tier2_modifier
                    }
                    #set_country_flag = prosperity_two
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_efficiency_tier2
                                has_country_flag = has_prosperity_tier2
                            }
                        }
                    }
                    set_country_flag = has_prosperity_tier3
                    set_country_flag = prosperity_three
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
            efficiency_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_prosperity_tier1
                                    has_country_flag = has_efficiency_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_efficiency_tier1
                    add_dynamic_modifier = {
                        modifier = efficiency_tier1_modifier
                    }
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_prosperity_tier2
                                        has_country_flag = has_efficiency_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_prosperity_tier1
                                    has_country_flag = has_efficiency_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_efficiency_tier2
                    add_dynamic_modifier = {
                        modifier = efficiency_tier2_modifier
                    }
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_prosperity_tier2
                                has_country_flag = has_efficiency_tier2
                            }
                        }
                    }
                    set_country_flag = has_efficiency_tier3
                    add_dynamic_modifier = {
                        modifier = efficiency_tier3_modifier
                    }
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
            #order_liberty_collapse_button_click = {
            #    collapse_hostility_benevolence = yes
            #    collapse_tradition_progress = yes
            #    collapse_body_mind = yes
            #    collapse_amplification_expansion = yes
            #    collapse_conservation_consumption = yes
            #    collapse_prosperity_efficiency = yes
            #    if = {
            #        limit = {
            #            NOT = {
            #                ROOT = {
            #                    has_country_flag = order_liberty_flag
            #                }
            #            }
            #        }
            #        ROOT = {
            #            set_country_flag = order_liberty_flag
            #        }
            #        set_variable = { order_liberty_position_var = 822 }
            #        set_variable = { order_liberty_exclusive_position_var = 848 }
            #        set_variable = { order_liberty_bg_position_var = 602 }
            #        set_variable = { order_liberty_effect_position_var = 598 }
            #    }
            #    else = {
            #        ROOT = {
            #            clr_country_flag = order_liberty_flag
            #        }
            #        set_variable = { order_liberty_position_var = 597 }
            #        set_variable = { order_liberty_exclusive_position_var = 623 }
            #        set_variable = { order_liberty_bg_position_var = 377 }
            #        set_variable = { order_liberty_effect_position_var = 373 }
            #    }
            #}
            order_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_efficiency_tier1
                                    has_country_flag = has_order_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_order_tier1
                    set_country_flag = order_one
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_liberty_tier2
                                        has_country_flag = has_order_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_liberty_tier1
                                    has_country_flag = has_order_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_order_tier2
                    add_dynamic_modifier = {
                        modifier = order_tier2_modifier
                    }
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_liberty_tier2
                                has_country_flag = has_order_tier2
                            }
                        }
                    }
                    set_country_flag = has_order_tier3
                    set_country_flag = order_three
                    add_to_variable = { devastation_modifier = 3 }
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
            liberty_button_click = {
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                OR = {
                                    has_country_flag = has_order_tier1
                                    has_country_flag = has_liberty_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_liberty_tier1
                    set_country_flag = liberty_one
                    subtract_from_variable = { cultural_power = 150 }
                    add_to_variable = { cultural_power_spent = 150 }
                }
                else_if = {
                    limit = {
                        AND = {
                            NOT = {
                                ROOT = {
                                    OR = {
                                        has_country_flag = has_order_tier2
                                        has_country_flag = has_liberty_tier2
                                    }
                                }
                            }
                            ROOT = {
                                OR = {
                                    has_country_flag = has_order_tier1
                                    has_country_flag = has_liberty_tier1
                                }
                            }
                        }
                    }
                    set_country_flag = has_liberty_tier2
                    add_dynamic_modifier = {
                        modifier = liberty_tier2_modifier
                    }
                    subtract_from_variable = { cultural_power = 200 }
                    add_to_variable = { cultural_power_spent = 200 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            OR = {
                                has_country_flag = has_order_tier2
                                has_country_flag = has_liberty_tier2
                            }
                        }
                    }
                    set_country_flag = has_liberty_tier3
                    set_country_flag = liberty_three
                    add_to_variable = { devastation_modifier = 3 }
                    subtract_from_variable = { cultural_power = 300 }
                    add_to_variable = { cultural_power_spent = 300 }
                }
            }
        }
        
        triggers = {
            reset_virtues_button_click_enabled = {
                always = yes
            }
            hostility_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_hostility_tier3
                            has_country_flag = has_benevolence_tier1
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_hostility_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_hostility_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            benevolence_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_hostility_tier1
                            has_country_flag = has_benevolence_tier3
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_benevolence_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_benevolence_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            #hostility_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = hostility_benevolence_flag
            #    }
            #}
            #hostility_effects_visible = {
            #    ROOT = {
            #        has_country_flag = hostility_benevolence_flag
            #    }
            #}
            #benevolence_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = hostility_benevolence_flag
            #    }
            #}
            #benevolence_effects_visible = {
            #    ROOT = {
            #        has_country_flag = hostility_benevolence_flag
            #    }
            #}
            tradition_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_tradition_tier3
                            has_country_flag = has_progress_tier1
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_tradition_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_tradition_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            progress_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_progress_tier3
                            has_country_flag = has_tradition_tier1
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_progress_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_progress_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            #tradition_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = tradition_progress_flag
            #    }
            #}
            #tradition_effects_visible = {
            #    ROOT = {
            #        has_country_flag = tradition_progress_flag
            #    }
            #}
            #progress_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = tradition_progress_flag
            #    }
            #}
            #progress_effects_visible = {
            #    ROOT = {
            #        has_country_flag = tradition_progress_flag
            #    }
            #}
            body_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_body_tier3
                            has_country_flag = has_mind_tier1
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_body_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_body_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            mind_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_body_tier1
                            has_country_flag = has_mind_tier3
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_mind_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_mind_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            #body_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = body_mind_flag
            #    }
            #}
            #body_effects_visible = {
            #    ROOT = {
            #        has_country_flag = body_mind_flag
            #    }
            #}
            #mind_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = body_mind_flag
            #    }
            #}
            #mind_effects_visible = {
            #    ROOT = {
            #        has_country_flag = body_mind_flag
            #    }
            #}
            amplification_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_amplification_tier3
                            has_country_flag = has_expansion_tier1
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_amplification_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_amplification_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            expansion_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_amplification_tier1
                            has_country_flag = has_expansion_tier3
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_expansion_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_expansion_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            #amplification_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = amplification_expansion_flag
            #    }
            #}
            #amplification_effects_visible = {
            #    ROOT = {
            #        has_country_flag = amplification_expansion_flag
            #    }
            #}
            #expansion_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = amplification_expansion_flag
            #    }
            #}
            #expansion_effects_visible = {
            #    ROOT = {
            #        has_country_flag = amplification_expansion_flag
            #    }
            #}
            conservation_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_conservation_tier3
                            has_country_flag = has_consumption_tier1
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_conservation_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_conservation_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            consumption_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_conservation_tier1
                            has_country_flag = has_consumption_tier3
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_consumption_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_consumption_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            #conservation_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = conservation_consumption_flag
            #    }
            #}
            #conservation_effects_visible = {
            #    ROOT = {
            #        has_country_flag = conservation_consumption_flag
            #    }
            #}
            #consumption_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = conservation_consumption_flag
            #    }
            #}
            #consumption_effects_visible = {
            #    ROOT = {
            #        has_country_flag = conservation_consumption_flag
            #    }
            #}
            prosperity_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_prosperity_tier3
                            has_country_flag = has_efficiency_tier1
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_prosperity_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_prosperity_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            efficiency_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_prosperity_tier1
                            has_country_flag = has_efficiency_tier3
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_efficiency_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_efficiency_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            #prosperity_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = prosperity_efficiency_flag
            #    }
            #}
            #prosperity_effects_visible = {
            #    ROOT = {
            #        has_country_flag = prosperity_efficiency_flag
            #    }
            #}
            #efficiency_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = prosperity_efficiency_flag
            #    }
            #}
            #efficiency_effects_visible = {
            #    ROOT = {
            #        has_country_flag = prosperity_efficiency_flag
            #    }
            #}
            order_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_order_tier3
                            has_country_flag = has_liberty_tier1
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_order_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_order_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            liberty_button_click_enabled = {
                NOT = {
                    ROOT = {
                            OR = {
                            has_country_flag = has_order_tier1
                            has_country_flag = has_liberty_tier3
                        }
                    }
                }
                if = {
                    limit = {
                        NOT = {
                            ROOT = {
                                has_country_flag = has_liberty_tier2
                            }
                        }
                    }
                    check_variable = { cultural_power > 149 }
                }
                else_if = {
                    limit = {
                        ROOT = {
                            has_country_flag = has_liberty_tier2
                        }
                    }
                    check_variable = { cultural_power > 149 }
                    has_global_flag = final_war_flag
                }
            }
            #order_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = order_liberty_flag
            #    }
            #}
            #order_effects_visible = {
            #    ROOT = {
            #        has_country_flag = order_liberty_flag
            #    }
            #}
            #liberty_effect_bg_visible = {
            #    ROOT = {
            #        has_country_flag = order_liberty_flag
            #    }
            #}
            #liberty_effects_visible = {
            #    ROOT = {
            #        has_country_flag = order_liberty_flag
            #    }
            #}
        }

        #properties = {
        #    hostility_button = {
		#		x = -529
		#		y = hostility_benevolence_position_var
		#	}
		#	benevolence_button = {
		#		x = -270
		#		y = hostility_benevolence_position_var
		#	}
		#	hostility_effect_bg = {
		#		x = 21
		#		y = hostility_benevolence_bg_position_var
		#	}
        #    hostility_effects = {
		#		x = 25
		#		y = hostility_benevolence_effect_position_var
		#	}
		#	benevolence_effect_bg = {
		#		x = 280
		#		y = hostility_benevolence_bg_position_var
		#	}
        #    benevolence_effects = {
		#		x = 290
		#		y = hostility_benevolence_effect_position_var
		#	}
		#	hostility_benevolence_collapse_button = {
		#		x = -55
		#		y = hostility_benevolence_position_var
		#	}
		#	benevolence_hostility_exclusive = {
		#		x = 264
		#		y = hostility_benevolence_exclusive_position_var
		#	}
		#	tradition_button = {
		#		x = -529
		#		y = tradition_progress_position_var
		#	}
		#	progress_button = {
		#		x = -270
		#		y = tradition_progress_position_var
		#	}
		#	tradition_effect_bg = {
		#		x = 21
		#		y = tradition_progress_bg_position_var
		#	}
        #    tradition_effects = {
		#		x = 25
		#		y = tradition_progress_effect_position_var
		#	}
		#	progress_effect_bg = {
		#		x = 280
		#		y = tradition_progress_bg_position_var
		#	}
        #    progress_effects = {
		#		x = 290
		#		y = tradition_progress_effect_position_var
		#	}
		#	tradition_progress_collapse_button = {
		#		x = -55
		#		y = tradition_progress_position_var
		#	}
		#	tradition_progress_exclusive = {
		#		x = 264
		#		y = tradition_progress_exclusive_position_var
		#	}
		#	body_button = {
		#		x = -529
		#		y = body_mind_position_var
		#	}
		#	mind_button = {
		#		x = -270
		#		y = body_mind_position_var
		#	}
		#	body_effect_bg = {
		#		x = 21
		#		y = body_mind_bg_position_var
		#	}
        #    body_effects = {
		#		x = 25
		#		y = body_mind_effect_position_var
		#	}
		#	mind_effect_bg = {
		#		x = 280
		#		y = body_mind_bg_position_var
		#	}
        #    mind_effects = {
		#		x = 290
		#		y = body_mind_effect_position_var
		#	}
		#	body_mind_collapse_button = {
		#		x = -55
		#		y = body_mind_position_var
		#	}
		#	body_mind_exclusive = {
		#		x = 264
		#		y = body_mind_exclusive_position_var
		#	}
		#	amplification_button = {
		#		x = -529
		#		y = amplification_expansion_position_var
		#	}
		#	expansion_button = {
		#		x = -270
		#		y = amplification_expansion_position_var
		#	}
		#	amplification_effect_bg = {
		#		x = 21
		#		y = amplification_expansion_bg_position_var
		#	}
        #    amplification_effects = {
		#		x = 25
		#		y = amplification_expansion_effect_position_var
		#	}
		#	expansion_effect_bg = {
		#		x = 280
		#		y = amplification_expansion_bg_position_var
		#	}
        #    expansion_effects = {
		#		x = 290
		#		y = amplification_expansion_effect_position_var
		#	}
		#	amplification_expansion_collapse_button = {
		#		x = -55
		#		y = amplification_expansion_position_var
		#	}
		#	amplification_expansion_exclusive = {
		#		x = 264
		#		y = amplification_expansion_exclusive_position_var
		#	}
		#	conservation_button = {
		#		x = -529
		#		y = conservation_consumption_position_var
		#	}
		#	conservation_effect_bg = {
		#		x = 21
		#		y = conservation_consumption_bg_position_var
		#	}
        #    conservation_effects = {
		#		x = 25
		#		y = conservation_consumption_effect_position_var
		#	}
		#	consumption_button = {
		#		x = -270
		#		y = conservation_consumption_position_var
		#	}
		#	consumption_effect_bg = {
		#		x = 280
		#		y = conservation_consumption_bg_position_var
		#	}
        #    consumption_effects = {
		#		x = 290
		#		y = conservation_consumption_effect_position_var
		#	}
		#	conservation_consumption_collapse_button = {
		#		x = -55
		#		y = conservation_consumption_position_var
		#	}
		#	conservation_consumption_exclusive = {
		#		x = 264
		#		y = conservation_consumption_exclusive_position_var
		#	}
		#	prosperity_button = {
		#		x = -529
		#		y = prosperity_efficiency_position_var
		#	}
		#	prosperity_effect_bg = {
		#		x = 21
		#		y = prosperity_efficiency_bg_position_var
		#	}
        #    prosperity_effects = {
		#		x = 25
		#		y = prosperity_efficiency_effect_position_var
		#	}
		#	efficiency_button = {
		#		x = -270
		#		y = prosperity_efficiency_position_var
		#	}
		#	efficiency_effect_bg = {
		#		x = 280
		#		y = prosperity_efficiency_bg_position_var
		#	}
        #    efficiency_effects = {
		#		x = 290
		#		y = prosperity_efficiency_effect_position_var
		#	}
		#	prosperity_efficiency_collapse_button = {
		#		x = -55
		#		y = prosperity_efficiency_position_var
		#	}
		#	prosperity_efficiency_exclusive = {
		#		x = 264
		#		y = prosperity_efficiency_exclusive_position_var
		#	}
		#	order_button = {
		#		x = -529
		#		y = order_liberty_position_var
		#	}
		#	order_effect_bg = {
		#		x = 21
		#		y = order_liberty_bg_position_var
		#	}
        #    order_effects = {
		#		x = 25
		#		y = order_liberty_effect_position_var
		#	}
		#	liberty_button = {
		#		x = -270
		#		y = order_liberty_position_var
		#	}
		#	liberty_effect_bg = {
		#		x = 280
		#		y = order_liberty_bg_position_var
		#	}
        #    liberty_effects = {
		#		x = 290
		#		y = order_liberty_effect_position_var
		#	}
		#	order_liberty_collapse_button = {
		#		x = -55
		#		y = order_liberty_position_var
		#	}
		#	order_liberty_exclusive = {
		#		x = 264
		#		y = order_liberty_exclusive_position_var
		#	}
        #}

        ai_enabled = {
            always = no
        }
    }
}