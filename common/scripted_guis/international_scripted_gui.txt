scripted_gui = {
    international_topbartab = {
        window_name = "international_topbartab_window"
        context_type = player_context
		parent_window_token = top_bar
         
        visible = {
            has_country_flag = international_moment_flag
        }
        
        effects = {
            #international_close_click = {
            #    ROOT = {
            #        clr_country_flag = international_moment_flag
            #    }
            #}
            international_unify_spaceship_efforts_click = {
                ROOT = {
                    set_country_flag = spaceship_internationalized_flag
                }
            }
            international_launch_spaceship_click = {
                ROOT = {
                    country_event = { id = international_spaceship_event.1 days = 0 }
                }
                every_country = {
                    limit = {
                        AND = {
                            NOT = {
                                tag = ROOT
                            }    
                            OR = {
                                is_puppet_of = ROOT
                                is_in_faction_with = ROOT
                            }
                        }
                    }
                    country_event = { id = international_spaceship_event.2 days = 0 }
                }
            }
            virtues_and_culture_button_click = {
                ROOT = {
                    set_country_flag = virtues_and_culture_moment_flag
                }
                ROOT = {
                    clr_country_flag = international_moment_flag
                }
            }
            international_wonder_clinical_immortality_click = {
                country_event = { id = international_event.1 days = 0 }
                every_country = {
                    limit = {
                        NOT = {
                            tag = ROOT
                        }
                    }
                    country_event = { id = international_event.2 days = 0 }
                }
                add_equipment_to_stockpile = {
                    type = clinical_immortality_eq
                    amount = -500
                    producer = ROOT
                }
            }
            international_wonder_clinical_immortality_conversion_click = {
                set_temp_variable = { temp = num_equipment@clinical_immortality_eq }
                divide_temp_variable = { temp = 10 }
                add_to_variable = { industrial_power = temp }

                set_temp_variable = { temp2 = num_equipment@clinical_immortality_eq }
                multiply_temp_variable = {temp2 = -1}

                set_country_flag = clinical_conversion

                add_equipment_to_stockpile = {
                    type = clinical_immortality_eq
                    amount = temp2
                    producer = ROOT
                }
            }
            international_wonder_markov_eclipse_click = {
                country_event = { id = international_event.3 days = 0 }
                every_country = {
                    limit = {
                        NOT = {
                            tag = ROOT
                        }
                    }
                    country_event = { id = international_event.4 days = 0 }
                }
                add_equipment_to_stockpile = {
                    type = markov_eclipse_eq
                    amount = -500
                    producer = ROOT
                }
            }
            international_wonder_markov_eclipse_conversion_click = {
                country_event = {id= wonder_event.1 days = 0}

                set_temp_variable = { temp = num_equipment@markov_eclipse_eq }
                divide_temp_variable = { temp = 10 }
                add_to_variable = { industrial_power = temp }

                set_temp_variable = { temp2 = num_equipment@markov_eclipse_eq }
                multiply_temp_variable = {temp2 = -1}

                set_country_flag = markov_conversion

                add_equipment_to_stockpile = {
                    type = markov_eclipse_eq
                    amount = temp2
                    producer = ROOT
                }
            }
            international_wonder_stellar_codex_click = {
                country_event = { id = international_event.5 days = 0 }
                every_country = {
                    limit = {
                        NOT = {
                            tag = ROOT
                        }
                    }
                    country_event = { id = international_event.6 days = 0 }
                }
                add_equipment_to_stockpile = {
                    type = stellar_codex_eq
                    amount = -500
                    producer = ROOT
                }
            }
            international_wonder_stellar_codex_conversion_click = {
                
                set_temp_variable = { temp = num_equipment@stellar_codex_eq }
                divide_temp_variable = { temp = 10 }
                add_to_variable = { industrial_power = temp }

                set_temp_variable = { temp2 = num_equipment@stellar_codex_eq }
                multiply_temp_variable = {temp2 = -1}

                set_country_flag = stellar_conversion

                add_equipment_to_stockpile = {
                    type = stellar_codex_eq
                    amount = temp2
                    producer = ROOT
                }
            }

            international_wonder_machine_assisted_free_will_click = {
                country_event = { id = international_event.7 days = 0 }
                every_country = {
                    limit = {
                        NOT = {
                            tag = ROOT
                        }
                    }
                    country_event = { id = international_event.8 days = 0 }
                }
                add_equipment_to_stockpile = {
                    type = machine_assisted_free_will_eq
                    amount = -500
                    producer = ROOT
                }
            }
            international_wonder_machine_assisted_free_will_conversion_click = {
                
                set_temp_variable = { temp = num_equipment@machine_assisted_free_will_eq }
                divide_temp_variable = { temp = 10 }
                add_to_variable = { industrial_power = temp }

                set_temp_variable = { temp2 = num_equipment@machine_assisted_free_will_eq }
                multiply_temp_variable = {temp2 = -1}
                set_country_flag = free_will_conversion
                add_equipment_to_stockpile = {
                    type = machine_assisted_free_will_eq
                    amount = temp2
                    producer = ROOT
                }
            }

            international_wonder_virtual_world_click = {
                country_event = { id = international_event.9 days = 0 }
                every_country = {
                    limit = {
                        NOT = {
                            tag = ROOT
                        }
                    }
                    country_event = { id = international_event.10 days = 0 }
                }
                add_equipment_to_stockpile = {
                    type = the_virtual_world_eq
                    amount = -500
                    producer = ROOT
                }
            }

            international_wonder_virtual_world_conversion_click = {
                
                set_temp_variable = { temp = num_equipment@the_virtual_world_eq }
                divide_temp_variable = { temp = 10 }
                add_to_variable = { industrial_power = temp }

                set_temp_variable = { temp2 = num_equipment@the_virtual_world_eq }
                multiply_temp_variable = {temp2 = -1}
                set_country_flag = virtual_world_conversion
                add_equipment_to_stockpile = {
                    type = the_virtual_world_eq
                    amount = temp2
                    producer = ROOT
                }
            }
            international_wonder_weather_paradigm_click = {
                country_event = { id = international_event.11 days = 0 }
                every_country = {
                    limit = {
                        NOT = {
                            tag = ROOT
                        }
                    }
                    country_event = { id = international_event.12 days = 0 }
                }
                add_equipment_to_stockpile = {
                    type = the_weather_paradigm_eq
                    amount = -500
                    producer = ROOT
                }
            }

            international_wonder_weather_paradigm_conversion_click = {
                
                set_temp_variable = { temp = num_equipment@the_weather_paradigm_eq }
                divide_temp_variable = { temp = 10 }
                add_to_variable = { industrial_power = temp }

                set_temp_variable = { temp2 = num_equipment@the_weather_paradigm_eq }
                multiply_temp_variable = {temp2 = -1}
                set_country_flag = weather_conversion
                add_equipment_to_stockpile = {
                    type = the_weather_paradigm_eq
                    amount = temp2
                }
            }
            international_wonder_benthic_auger_click = {
                country_event = { id = international_event.13 days = 0 }
                every_country = {
                    limit = {
                        NOT = {
                            tag = ROOT
                        }
                    }
                    country_event = { id = international_event.14 days = 0 }
                }
                add_equipment_to_stockpile = {
                    type = benthic_auger_eq
                    amount = -500
                    producer = ROOT
                }
            }
            international_wonder_benthic_auger_conversion_click = {
                
                set_temp_variable = { temp = num_equipment@benthic_auger_eq }
                divide_temp_variable = { temp = 10 }
                add_to_variable = { industrial_power = temp }

                set_temp_variable = { temp2 = num_equipment@benthic_auger_eq }
                multiply_temp_variable = {temp2 = -1}
                set_country_flag = benthic_conversion
                add_equipment_to_stockpile = {
                    type = benthic_auger_eq
                    amount = temp2
                    producer = ROOT
                }
            }

            international_wonder_neural_amplifier_click = {
                country_event = { id = international_event.15 days = 0 }
                every_country = {
                    limit = {
                        NOT = {
                            tag = ROOT
                        }
                    }
                    country_event = { id = international_event.16 days = 0 }
                }
                add_equipment_to_stockpile = {
                    type = the_neural_amplifier_eq
                    amount = -500
                    producer = ROOT
                }
            }
            international_wonder_neural_amplifier_conversion_click = {
                
                set_temp_variable = { temp = num_equipment@the_neural_amplifier_eq }
                divide_temp_variable = { temp = 10 }
                add_to_variable = { industrial_power = temp }

                set_temp_variable = { temp2 = num_equipment@the_neural_amplifier_eq }
                multiply_temp_variable = {temp2 = -1}
                set_country_flag = neural_conversion
                add_equipment_to_stockpile = {
                    type = the_neural_amplifier_eq
                    amount = temp2
                    producer = ROOT
                }
            }

            international_wonder_cloudbase_academy_click = {
                country_event = { id = international_event.17 days = 0 }
                every_country = {
                    limit = {
                        NOT = {
                            tag = ROOT
                        }
                    }
                    country_event = { id = international_event.18 days = 0 }
                }
                add_equipment_to_stockpile = {
                    type = the_cloudbase_academy_eq
                    amount = -500
                    producer = ROOT
                }
            }
            international_wonder_cloudbase_academy_conversion_click = {
                
                set_temp_variable = { temp = num_equipment@the_cloudbase_academy_eq }
                divide_temp_variable = { temp = 10 }
                add_to_variable = { industrial_power = temp }

                set_temp_variable = { temp2 = num_equipment@the_cloudbase_academy_eq }
                multiply_temp_variable = {temp2 = -1}
                set_country_flag = cloudbase_conversion
                add_equipment_to_stockpile = {
                    type = the_cloudbase_academy_eq
                    amount = temp2
                    producer = ROOT
                }
            }

            international_wonder_universal_translator_click = {
                country_event = { id = international_event.19 days = 0 }
                every_country = {
                    limit = {
                        NOT = {
                            tag = ROOT
                        }
                    }
                    country_event = { id = international_event.20 days = 0 }
                }
                add_equipment_to_stockpile = {
                    type = the_universal_translator_eq
                    amount = -500
                    producer = ROOT
                }
            }

            international_wonder_universal_translator_conversion_click = {
                
                set_temp_variable = { temp = num_equipment@the_universal_translator_eq }
                divide_temp_variable = { temp = 10 }
                add_to_variable = { industrial_power = temp }

                set_temp_variable = { temp2 = num_equipment@the_universal_translator_eq }
                multiply_temp_variable = {temp2 = -1}

                set_country_flag = universal_conversion

                add_equipment_to_stockpile = {
                    type = the_universal_translator_eq
                    amount = temp2
                    producer = ROOT
                }
            }
        }

        triggers = {
            international_unify_spaceship_efforts_click_enabled = {
                AND = {
                    is_puppet = no
                    num_of_civilian_factories > 299
                    OR = {
                        AND = {
                            is_puppet = no
                            is_in_faction = yes
                            num_faction_members > 5
                        }
                        AND = {
                            num_subjects > 4
                        }
                    }
                    OR = {
                        has_country_flag = bridge_uplink_flag
                        has_country_flag = quarters_uplink_flag
                        has_country_flag = support_uplink_flag
                        has_country_flag = storage_uplink_flag
                        has_country_flag = engine_uplink_flag
                    }
                    NOT = {
                        has_global_flag = unify_spaceship_button_disabled
                    }
                }
            }
            international_launch_spaceship_click_enabled = {
                AND = {
                    any_owned_state = {
                        has_dynamic_modifier = {
                            modifier = bridge_location_modifier
                        }
                    }
                    any_owned_state = {
                        has_dynamic_modifier = {
                            modifier = quarters_location_modifier
                        }
                    }
                    any_owned_state = {
                        has_dynamic_modifier = {
                            modifier = support_location_modifier
                        }
                    }
                    any_owned_state = {
                        has_dynamic_modifier = {
                            modifier = storage_location_modifier
                        }
                    }
                    any_owned_state = {
                        has_dynamic_modifier = {
                            modifier = engine_location_modifier
                        }
                    }
                }
            }
            international_checklist_unavailable_visible = {
                has_global_flag = unify_spaceship_button_disabled
            }
            international_wonder_clinical_immortality_click_enabled = {
                NOT = {
                    any_country = {
                        has_idea = clinical_immortality_idea
                    }
                }
                has_equipment = {
                    clinical_immortality_eq > 499
                }
                has_tech = clinical_immortality
            }
            international_wonder_clinical_immortality_conversion_click_enabled = {
                AND = {
                    NOT = {
                has_country_flag = clinical_conversion
                    }
                any_country = {
                    has_idea = clinical_immortality_idea
                }
                has_equipment = {
                    clinical_immortality_eq > 10
                }
                has_tech = clinical_immortality
                }
            }
            international_wonder_markov_eclipse_click_enabled = {
                NOT = {
                    any_country = {
                        has_idea = markov_eclipse_idea
                    }
                }
                has_equipment = {
                    markov_eclipse_eq > 499
                }
                has_tech = markov_eclipse
            }
            international_wonder_markov_eclipse_conversion_click_enabled = {
                AND = {
                    NOT = {
                has_country_flag = markov_conversion   
                    }
                any_country = {
                    has_idea = markov_eclipse_idea
                }
                has_equipment = {
                    markov_eclipse_eq > 10
                }
                has_tech = markov_eclipse
                }
            }
            international_wonder_stellar_codex_click_enabled = {
                NOT = {
                    any_country = {
                        has_idea = stellar_codex_idea
                    }
                }
                has_equipment = {
                    stellar_codex_eq > 499
                }
                has_tech = stellar_codex
            }
            international_wonder_stellar_codex_conversion_click_enabled = {
                AND = {
                    NOT = {
                has_country_flag = stellar_conversion
                    }
                any_country = {
                    has_idea = stellar_codex_idea
                }
                has_equipment = {
                    stellar_codex_eq > 10
                }
                has_tech = stellar_codex
                }
            }
            international_wonder_machine_assisted_free_will_click_enabled = {
                NOT = {
                    any_country = {
                        has_idea = machine_assisted_free_will_idea
                    }
                }
                has_equipment = {
                    machine_assisted_free_will_eq > 499
                }
                has_tech = machine_assisted_free_will
            }
            international_wonder_machine_assisted_free_will_conversion_click_enabled = {
                AND = {
                    NOT = {
                has_country_flag = free_will_conversion
                    }
                any_country = {
                    has_idea = machine_assisted_free_will_idea
                }
                has_equipment = {
                    machine_assisted_free_will_eq > 10
                }
                has_tech = machine_assisted_free_will
                }
            }
            international_wonder_virtual_world_click_enabled = {
                NOT = {
                    any_country = {
                        has_idea = virtual_world_idea
                    }
                }
                has_equipment = {
                    the_virtual_world_eq > 499
                }
                has_tech = the_virtual_world
            }
            international_wonder_virtual_world_conversion_click_enabled = {
                AND = {
                    NOT ={
                has_country_flag = virtual_world_conversion
                    }
                any_country = {
                    has_idea = virtual_world_idea
                }
                has_equipment = {
                   the_virtual_world_eq > 10
                }
                has_tech = the_virtual_world
                }
            }
            international_wonder_weather_paradigm_click_enabled = {
                NOT = {
                    any_country = {
                        has_idea = weather_paradigm_idea
                    }
                }
                has_equipment = {
                    the_weather_paradigm_eq > 499
                }
                has_tech = the_weather_paradigm
            }
            international_wonder_weather_paradigm_conversion_click_enabled = {
                AND = {
                    NOT = {
                has_country_flag = weather_conversion
                    }
                any_country = {
                    has_idea = weather_paradigm_idea
                }
                has_equipment = {
                   the_weather_paradigm_eq > 10
                }
                has_tech = the_weather_paradigm
                }
            }
            international_wonder_benthic_auger_click_enabled = {
                NOT = {
                    any_country = {
                        has_idea = benthic_auger_idea
                    }
                }
                has_equipment = {
                    benthic_auger_eq > 499
                }
                has_tech = benthic_auger
            }
            international_wonder_benthic_auger_conversion_click_enabled = {
                AND = {
                    NOT = {
                        has_country_flag = benthic_conversion
                    }
                any_country = {
                    has_idea = benthic_auger_idea
                }
                has_equipment = {
                   benthic_auger_eq > 10
                }
                has_tech = benthic_auger
                }
            }
            international_wonder_neural_amplifier_click_enabled = {
                NOT = {
                    any_country = {
                        has_idea = neural_amplifier_idea
                    }
                }
                has_equipment = {
                    the_neural_amplifier_eq > 499
                }
                has_tech = the_neural_amplifier
            }
            international_wonder_neural_amplifier_conversion_click_enabled = {
                AND = {
                    NOT = {
                has_country_flag = neural_conversion
                    }
                any_country = {
                    has_idea = neural_amplifier_idea
                }
                has_equipment = {
                   the_neural_amplifier_eq > 10
                }
                has_tech = the_neural_amplifier

                }
            }
            international_wonder_cloudbase_academy_click_enabled = {
                NOT = {
                    any_country = {
                        has_idea = cloudbase_academy_idea
                    }
                }
                has_equipment = {
                    the_cloudbase_academy_eq > 499
                }
                has_tech = the_cloudbase_academy
            }
            international_wonder_cloudbase_academy_conversion_click_enabled = {
                AND = {
                    NOT = {
                has_country_flag = cloudbase_conversion
                    }
                any_country = {
                    has_idea = cloudbase_academy_idea
                }
                has_equipment = {
                   the_cloudbase_academy_eq > 10
                }
                has_tech = the_cloudbase_academy
                }
            }
            international_wonder_universal_translator_click_enabled = {
                NOT = {
                    any_country = {
                        has_idea = universal_translator_idea
                    }
                }
                has_equipment = {
                    the_universal_translator_eq > 499
                }
                has_tech = the_universal_translator
            }
            international_wonder_universal_translator_conversion_click_enabled = {
                AND = {
                    NOT = {
                    has_country_flag = universal_conversion
                    }
                    any_country = {
                        has_idea = universal_translator_idea
                    }
                    has_equipment = {
                        the_universal_translator_eq > 10
                    }
                    has_tech = the_universal_translator
                }
            }
        }

        dynamic_lists = {
		}

        properties = {
        }
    }
}