scripted_gui = {
	international_topbartab = {
		window_name = "international_topbartab_window"
		context_type = player_context
		parent_window_name = "countrytechtreeview"

		visible = {
			has_country_flag = international_moment_flag
		}
		effects = {
			close_button_click = {
                ROOT = {
                    clr_country_flag = political_moment_flag
                    clr_country_flag = international_moment_flag
                }
            }
			virtues_and_culture_button_click = {
				ROOT = {
					set_country_flag = virtues_and_culture_moment_flag
				}
				ROOT = {
					clr_country_flag = international_moment_flag
				}
			}
		}

		triggers = {
			international_module_1_button_visible = {
				NOT = {
					OR = {
						has_global_flag = module_1_under_construction_flag
						has_global_flag = module_1_completed_flag
					}
				}
			}
			international_module_1_button_green_visible = {
				has_global_flag = module_1_under_construction_flag
			}
			international_module_1_button_purple_visible = {
				has_global_flag = module_1_completed_flag
			}
			international_module_2_visible = {
				NOT = {
					OR = {
						has_global_flag = module_2_under_construction_flag
						has_global_flag = module_2_completed_flag
					}
				}
			}
			international_module_1_visible = {
				NOT = {
					OR = {
						has_global_flag = module_1_under_construction_flag
						has_global_flag = module_1_completed_flag
					}
				}
			}
			international_module_1_green_visible = {
				has_global_flag = module_1_under_construction_flag
			}
			international_module_1_purple_visible = {
				has_global_flag = module_1_completed_flag
			}
			international_module_2_visible = {
				NOT = {
					OR = {
						has_global_flag = module_2_under_construction_flag
						has_global_flag = module_2_completed_flag
					}
				}
			}
			international_module_2_green_visible = {
				has_global_flag = module_2_under_construction_flag
			}
			international_module_2_purple_visible = {
				has_global_flag = module_2_completed_flag
			}
			international_module_3_visible = {
				NOT = {
					OR = {
						has_global_flag = module_3_under_construction_flag
						has_global_flag = module_3_completed_flag
					}
				}
			}
			international_module_2_button_visible = {
				NOT = {
					OR = {
						has_global_flag = module_2_under_construction_flag
						has_global_flag = module_2_completed_flag
					}
				}
			}
			international_module_2_button_green_visible = {
				has_global_flag = module_2_under_construction_flag
			}
			international_module_2_button_purple_visible = {
				has_global_flag = module_2_completed_flag
			}
			international_module_3_visible = {
				NOT = {
					OR = {
						has_global_flag = module_3_under_construction_flag
						has_global_flag = module_3_completed_flag
					}
				}
			}
			international_module_3_green_visible = {
				has_global_flag = module_3_under_construction_flag
			}
			international_module_3_purple_visible = {
				has_global_flag = module_3_completed_flag
			}
			international_module_3_button_visible = {
				NOT = {
					OR = {
						has_global_flag = module_3_under_construction_flag
						has_global_flag = module_3_completed_flag
					}
				}
			}
			international_module_3_button_green_visible = {
				has_global_flag = module_3_under_construction_flag
			}
			international_module_3_button_purple_visible = {
				has_global_flag = module_3_completed_flag
			}
			international_module_4_visible = {
				NOT = {
					OR = {
						has_global_flag = module_4_under_construction_flag
						has_global_flag = module_4_completed_flag
					}
				}
			}
			international_module_4_green_visible = {
				has_global_flag = module_4_under_construction_flag
			}
			international_module_4_purple_visible = {
				has_global_flag = module_4_completed_flag
			}
			international_module_4_button_visible = {
				NOT = {
					OR = {
						has_global_flag = module_4_under_construction_flag
						has_global_flag = module_4_completed_flag
					}
				}
			}
			international_module_4_button_green_visible = {
				has_global_flag = module_4_under_construction_flag
			}
			international_module_4_button_purple_visible = {
				has_global_flag = module_4_completed_flag
			}
			international_module_5_visible = {
				NOT = {
					OR = {
						has_global_flag = module_5_under_construction_flag
						has_global_flag = module_5_completed_flag
					}
				}
			}
			international_module_5_green_visible = {
				has_global_flag = module_5_under_construction_flag
			}
			international_module_5_purple_visible = {
				has_global_flag = module_5_completed_flag
			}
			international_module_5_button_visible = {
				NOT = {
					OR = {
						has_global_flag = module_5_under_construction_flag
						has_global_flag = module_5_completed_flag
					}
				}
			}
			international_module_5_button_green_visible = {
				has_global_flag = module_5_under_construction_flag
			}
			international_module_5_button_purple_visible = {
				has_global_flag = module_5_completed_flag
			}
			###
			bridge_flag_visible = {
				has_global_flag = module_1_completed_flag
			}
			quarters_flag_visible = {
				has_global_flag = module_2_completed_flag
			}
			support_flag_visible = {
				has_global_flag = module_3_completed_flag
			}
			storage_flag_visible = {
				has_global_flag = module_4_completed_flag
			}
			engine_flag_visible = {
				has_global_flag = module_5_completed_flag
			}
		}

		properties = {
			bridge_flag = {
				image = [?global.module_one_builder_array^0.GetFlag]
			}
			quarters_flag = {
				image = [?global.module_two_builder_array^0.GetFlag]
			}
			support_flag = {
				image = [?global.module_three_builder_array^0.GetFlag]
			}
			storage_flag = {
				image = [?global.module_four_builder_array^0.GetFlag]
			}
			engine_flag = {
				image = [?global.module_five_builder_array^0.GetFlag]
			}
		}

		ai_enabled = {
            always = no
        }
	}
}
