check_annexations = {
	if = {
		limit = { release_brazil = yes }
		ROOT = { activate_mission = annexation_brazil }
	}
	if = {
		limit = { release_ol_cores = yes }
		ROOT = { activate_mission = annexation_ol_claims }
	}
}

check_annexations_2 = {
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_country_flag = checking_for_annexations }
			}
			set_country_flag = { flag = checking_for_annexations days = 7 value = 1 }
			country_event = { id = annex.1 days = 1 }
		}
	}
}

puppet_annexed_country = {
	hidden_effect = {
		var:puppeted_tag = {
			retire_ideology_leader = neutral
			retire_ideology_leader = harmony
			retire_ideology_leader = purity
			retire_ideology_leader = divinity
			retire_ideology_leader = voracity
			retire_ideology_leader = mastery
			retire_ideology_leader = supremacy
			
			create_country_leader = {
				name = "Occupation Board"
				ideology = neutral_ideology
			}
			create_country_leader = {
				name = "Occupation Board"
				ideology = harmony_ideology
			}
			create_country_leader = {
				name = "Occupation Board"
				ideology = purity_ideology
			}
			create_country_leader = {
				name = "Occupation Board"
				ideology = divinity_ideology
			}
			create_country_leader = {
				name = "Occupation Board"
				ideology = voracity_ideology
			}
			create_country_leader = {
				name = "Occupation Board"
				ideology = mastery_ideology
			}
			create_country_leader = {
				name = "Occupation Board"
				ideology = supremacy_ideology
			}
		
			if = {
				limit = {
					var:puppeted_tag = {
						has_government = neutral
					}
				}
				set_popularities = {
					purity = 5
					mastery = 5
					harmony = 6
					neutral = 66
					supremacy = 7
					voracity = 7
					divinity = 4
				}
				set_country_leader_portrait = {
					portrait = GFX_portrait_government_character_neutral
				}
			}
			else_if = {
				limit = {
					var:puppeted_tag = {
						has_government = harmony
					}
				}
				set_popularities = {
					purity = 5
					mastery = 5
					harmony = 66
					neutral = 6
					supremacy = 7
					voracity = 7
					divinity = 4
				}
				set_country_leader_portrait = {
					portrait = GFX_portrait_government_character_harmony
				}
			}
			else_if = {
				limit = {
					var:puppeted_tag = {
						has_government = purity
					}
				}
				
				set_popularities = {
					purity = 66
					mastery = 5
					harmony = 5
					neutral = 6
					supremacy = 7
					voracity = 7
					divinity = 4
				}
				set_country_leader_portrait = {
					portrait = GFX_portrait_government_character_purity
				}
			}
			else_if = {
				limit = {
					var:puppeted_tag = {
						has_government = divinity
					}
				}		
				set_popularities = {
					purity = 4
					mastery = 5
					harmony = 5
					neutral = 6
					supremacy = 7
					voracity = 7
					divinity = 66
				}
				set_country_leader_portrait = {
					portrait = GFX_portrait_government_character_divinity
				}
			}
			else_if = {
				limit = {
					var:puppeted_tag = {
						has_government = voracity
					}
				}		
				set_popularities = {
					purity = 4
					mastery = 5
					harmony = 5
					neutral = 6
					supremacy = 7
					voracity = 66
					divinity = 7
				}
				set_country_leader_portrait = {
					portrait = GFX_portrait_government_character_voracity
				}
			}
			else_if = {
				limit = {
					var:puppeted_tag = {
						has_government = mastery
					}
				}
						
				set_popularities = {
					purity = 4
					mastery = 66
					harmony = 5
					neutral = 6
					supremacy = 7
					voracity = 5
					divinity = 7
				}
				set_country_leader_portrait = {
					portrait = GFX_portrait_government_character_mastery
				}
			}
			else_if = {
				limit = {
					var:puppeted_tag = {
						has_government = supremacy
					}
				}
			
				set_popularities = {
					purity = 4
					mastery = 7
					harmony = 5
					neutral = 6
					supremacy = 66
					voracity = 5
					divinity = 7
				}
				set_country_leader_portrait = {
					portrait = GFX_portrait_government_character_supremacy
				}
			}
		}
	}
}