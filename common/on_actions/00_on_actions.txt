on_actions = {

	#NORTH AMERICA
	on_peaceconference_ended = {
		effect = {
			
		}
	}

	#AFRICA
	on_peaceconference_ended = {
		effect = {
			if = {
				limit = {
					COG = {
						is_puppet_of = TZN
					}
					SAF = {
						is_puppet_of = TZN
					}
					ANG = {
						is_puppet_of = TZN
					}
				}
				every_state = {
					limit = {
						OR = {
							is_core_of = COG
							is_core_of = SAF
							is_core_of = ANG
						}
					}
					remove_core_of = COG
					remove_core_of = SAF
					remove_core_of = ANG
					add_core_of = TZN
				}
				TZN = {
					annex_country = {
						target = COG
						transfer_troops = yes
					}
					annex_country = {
						target = SAF
						transfer_troops = yes
					}
					annex_country = {
						target = ANG
						transfer_troops = yes
					}
					set_cosmetic_tag = TZN_AFRICA
				}
			}
		}
	}

	#ARMY GROUP SOUTH
	on_peaceconference_ended = {
		effect = {
			if = {
				limit = {
					URA = {
						is_puppet_of = KAZ
					}
				}
				every_state = {
					limit = {
						is_core_of = URA
					}
					remove_core_of = URA
					add_core_of = KAZ
				}
				KAZ = {
					annex_country = {
						target = URA
						transfer_troops = yes
					}
				}
			}
		}
	}

	#BRAZIL
	on_peaceconference_ended = {
		effect = {
			if = {
				limit = {
					country_exists = GRP
					NOT = { country_exists = BGV }
					BGV = {
						all_core_state = {
							is_controlled_by = GRP
						}
					}
				}
				GRP = {
					set_cosmetic_tag = GRP_BRA
				}
				#PRU = {
				#	puppet = GRP
				#}
			}
		}
	}

	on_capitulation_LEG = {
		effect = {
			if = {
				limit = {
					country_exists = BGV
					NOT = { country_exists = LEG }
				}
				BGV = {
					every_core_state = {
						limit = {
							is_core_of = LEG
						}
						remove_core_of = LEG
					}
				}
			}
		}
	}

	on_capitulation_LAM = {
		effect = {
			if = {
				limit = {
					country_exists = BGV
					NOT = { country_exists = LAM }
				}
				BGV = {
					every_core_state = {
						limit = {
							is_core_of = LAM
						}
						remove_core_of = LAM
					}
				}
			}
		}
	}
			
	#ITALIA
	on_peaceconference_ended = {
		effect = {
			if = {
				limit = {
					country_exists = PAD
					NOT = { country_exists = ITA }
					ITA = {
						all_core_state = {
							is_controlled_by = PAD
						}
					}
				}
				PAD = {
					set_cosmetic_tag = PAD_italy
					every_state = {
						limit = {
							is_core_of = ITA
						}
						add_core_of = PAD
					}
				}
			}
		}
	}

	#ARGENTINA
	on_peaceconference_ended = {
		effect = {
			if = {
				limit = {
					country_exists = COS
					NOT = { country_exists = ARG }
				}
				COS = {
					set_cosmetic_tag = ARG_COS
				}
			}
			if = {
				limit = {
					country_exists = ARG
					NOT = { country_exists = COS }
				}
				ARG = {
					set_cosmetic_tag = ARG_ARG
				}
				PRU = {
					add_to_faction = ARG
					add_to_faction = CHL
				}
			}
			#
			if = {
				limit = {
					country_exists = COS
					NOT = { country_exists = ARG }
					NOT = { country_exists = CHL }
				}
				COS = {
					set_cosmetic_tag = COS_CHL
				}
			}
		}
	}

	#ECW
	on_capitulation_immediate = {
		effect = {
			if = {
				limit = { 
					has_global_flag = ECW_start 
					FROM = {
						OR = {
							tag = ENG
							tag = HNG
							tag = JNG
							tag = CNG
						}
					}
					ROOT = {
						OR = {
							tag = ENG
							tag = HNG
							tag = JNG
							tag = CNG
						}
					}
				}
				FROM = {
					annex_country = {
						target = ROOT
						#transfer_troops = yes
					}
				}
			}
		}
	}
	on_weekly_ADU = { #on_peaceconference_ended
		effect = {
			if = {
				limit = {
					has_global_flag = ECW_start
					country_exists = ENG
					NOT = {
						country_exists = HNG
						country_exists = JNG
						country_exists = CNG
						has_global_flag = ECW_end
					}
				}
				ENG = {
					every_state = {
						limit = {
							is_core_of = ENG
						}
						remove_core_of = HNG
						remove_core_of = JNG
						remove_core_of = CNG
						transfer_state_to = ENG
						remove_dynamic_modifier = {
							modifier = eng_cw_modifier
						}
					}
					#FRA = {
					#	white_peace = ENG
					#}
					#GER = {
					#	white_peace = ENG
					#}
					SCO = {
						add_to_faction = ENG
					}
					set_cosmetic_tag = ENG
				}
				set_global_flag = ECW_end
			}
			else_if = {
				limit = {
					has_global_flag = ECW_start
					country_exists = HNG
					NOT = {
						country_exists = ENG
						country_exists = JNG
						country_exists = CNG
						has_global_flag = ECW_end
					}
				}
				HNG = {
					every_state = {
						limit = {
							is_core_of = HNG
						}
						remove_core_of = ENG
						remove_core_of = JNG
						remove_core_of = CNG
						transfer_state_to = HNG
						remove_dynamic_modifier = {
							modifier = eng_cw_modifier
						}
					}
					#FRA = {
					#	white_peace = HNG
					#}
					#SCO = {
					#	white_peace = HNG
					#}
					GER = {
						add_to_faction = HNG
					}
					set_cosmetic_tag = ENG
				}
				set_global_flag = ECW_end
			}
			else_if = {
				limit = {
					has_global_flag = ECW_start
					country_exists = JNG
					NOT = {
						country_exists = ENG
						country_exists = HNG
						country_exists = CNG
						has_global_flag = ECW_end
					}
				}
				JNG = {
					every_state = {
						limit = {
							is_core_of = JNG
						}
						remove_core_of = HNG
						remove_core_of = ENG
						remove_core_of = CNG
						transfer_state_to = JNG
						remove_dynamic_modifier = {
							modifier = eng_cw_modifier
						}
					}
					#GER = {
					#	white_peace = JNG
					#}
					#SCO = {
					#	white_peace = JNG
					#}
					FRA = {
						add_to_faction = JNG
					}
					set_cosmetic_tag = ENG
				}
				set_global_flag = ECW_end
			}
			else_if = {
				limit = {
					has_global_flag = ECW_start
					country_exists = JNG
					NOT = {
						country_exists = ENG
						country_exists = HNG
						country_exists = CNG
						has_global_flag = ECW_end
					}
				}
				CNG = {
					every_state = {
						limit = {
							is_core_of = CNG
						}
						remove_core_of = HNG
						remove_core_of = JNG
						remove_core_of = ENG
						transfer_state_to = CNG
						remove_dynamic_modifier = {
							modifier = eng_cw_modifier
						}
					}
					#GER = {
					#	white_peace = CNG
					#}
					#SCO = {
					#	white_peace = CNG
					#}
					#FRA = {
					#	white_peace = CNG
					#}
					set_cosmetic_tag = ENG
				}
				set_global_flag = ECW_end
			}			
		}
	}

	#EU WAR STUFF
	on_declare_war = {
		effect = {
			check_europe_war_progress = yes
			check_infamy = yes
		}
	}
	on_declare_war = { 
		effect = {
			if = {
				limit = {
					ROOT = { tag = SOV }
					FROM = { 
						check_variable = {
							num_owned_states < 5 
						}
						capital_scope = {
							is_on_continent = europe
						}
						has_idea = EU_treaty_of_bern
					}
				}
				add_to_variable = {
					var = global.slavicinfamy_var
					value = 1
				}
			}
			if = {
				limit = {
					ROOT = { tag = SOV }
					FROM = { 
						check_variable = {
							num_owned_states > 4 
						}
						check_variable = {
							num_owned_states < 10 
						}
						capital_scope = {
							is_on_continent = europe
						}
						has_idea = EU_treaty_of_bern
					}
				}
				add_to_variable = {
					var = global.slavicinfamy_var
					value = 2
				}
			}
			if = {
				limit = {
					ROOT = { tag = SOV }
					FROM = { 
						check_variable = {
							num_owned_states > 9
						}
						capital_scope = {
							is_on_continent = europe
						}
						has_idea = EU_treaty_of_bern
					}
				}
				add_to_variable = {
					var = global.slavicinfamy_var
					value = 4
				}
			}

			if = {
				limit = {
					ROOT = { tag = FRA }
					FROM = { 
						check_variable = {
							num_owned_states < 5 
						}
						capital_scope = {
							is_on_continent = europe
						}
						has_idea = EU_treaty_of_bern
					}
				}
				add_to_variable = {
					var = global.francoinfamy_var
					value = 1
				}
			}
			if = {
				limit = {
					ROOT = { tag = FRA }
					FROM = { 
						check_variable = {
							num_owned_states > 4 
						}
						check_variable = {
							num_owned_states < 10 
						}
						capital_scope = {
							is_on_continent = europe
						}
						has_idea = EU_treaty_of_bern
					}
				}
				add_to_variable = {
					var = global.francoinfamy_var
					value = 2
				}
			}
			if = {
				limit = {
					ROOT = { tag = FRA }
					FROM = { 
						check_variable = {
							num_owned_states > 9
						}
						capital_scope = {
							is_on_continent = europe
						}
						has_idea = EU_treaty_of_bern
					}
				}
				add_to_variable = {
					var = global.francoinfamy_var
					value = 4
				}
			}

			if = {
				limit = {
					ROOT = { tag = GER }
					FROM = { 
						check_variable = {
							num_owned_states < 5 
						}
						capital_scope = {
							is_on_continent = europe
						}
						has_idea = EU_treaty_of_bern
					}
				}
				add_to_variable = {
					var = global.integrinfamy_var
					value = 1
				}
			}
			if = {
				limit = {
					ROOT = { tag = GER }
					FROM = { 
						check_variable = {
							num_owned_states > 4 
						}
						check_variable = {
							num_owned_states < 10 
						}
						capital_scope = {
							is_on_continent = europe
						}
						has_idea = EU_treaty_of_bern
					}
				}
				add_to_variable = {
					var = global.integrinfamy_var
					value = 2
				}
			}
			if = {
				limit = {
					ROOT = { tag = GER }
					FROM = { 
						check_variable = {
							num_owned_states > 9
						}
						capital_scope = {
							is_on_continent = europe
						}
						has_idea = EU_treaty_of_bern
					}
				}
				add_to_variable = {
					var = global.integrinfamy_var
					value = 4
				}
			}

			if = {
				limit = {
					ROOT = { tag = SCO }
					FROM = { 
						check_variable = {
							num_owned_states < 5 
						}
						capital_scope = {
							is_on_continent = europe
						}
						has_idea = EU_treaty_of_bern
					}
				}
				add_to_variable = {
					var = global.nsainfamy_var
					value = 1
				}
			}
			if = {
				limit = {
					ROOT = { tag = SCO }
					FROM = { 
						check_variable = {
							num_owned_states > 4 
						}
						check_variable = {
							num_owned_states < 10 
						}
						capital_scope = {
							is_on_continent = europe
						}
						has_idea = EU_treaty_of_bern
					}
				}
				add_to_variable = {
					var = global.nsainfamy_var
					value = 2
				}
			}
			if = {
				limit = {
					ROOT = { tag = SCO }
					FROM = { 
						check_variable = {
							num_owned_states > 9
						}
						capital_scope = {
							is_on_continent = europe
						}
						has_idea = EU_treaty_of_bern
					}
				}
				add_to_variable = {
					var = global.nsainfamy_var
					value = 4
				}
			}
		}
	}
	###

	on_startup = {
		effect = {
			#URA = {
            #    country_lock_all_division_template = yes
            #}
			PRU = {
                country_lock_all_division_template = yes
            }
			ENG = {
                country_lock_all_division_template = yes
            }
		}
	}
	on_startup = {
		effect = {
			SCO = {
				add_ideas = EU_treaty_of_bern
			}
			FRA = {
				add_ideas = EU_treaty_of_bern
			}
			GER = {
				add_ideas = EU_treaty_of_bern
			}
			SOV = {
				add_ideas = EU_treaty_of_bern
			}
			GRN = {
				add_ideas = EU_treaty_of_bern
			}
			ICE = {
				add_ideas = EU_treaty_of_bern
			}
			ENG = {
				add_ideas = EU_treaty_of_bern
			}
			IRE = {
				add_ideas = EU_treaty_of_bern
			}
			NOR = {
				add_ideas = EU_treaty_of_bern
			}
			SWE = {
				add_ideas = EU_treaty_of_bern
			}
			FIN = {
				add_ideas = EU_treaty_of_bern
			}
			LAT = {
				add_ideas = EU_treaty_of_bern
			}
			UKR = {
				add_ideas = EU_treaty_of_bern
			}
			POL = {
				add_ideas = EU_treaty_of_bern
			}
			ROM = {
				add_ideas = EU_treaty_of_bern
			}
			HUN = {
				add_ideas = EU_treaty_of_bern
			}
			SLO = {
				add_ideas = EU_treaty_of_bern
			}
			CZE = {
				add_ideas = EU_treaty_of_bern
			}
			YUG = {
				add_ideas = EU_treaty_of_bern
			}
			GRE = {
				add_ideas = EU_treaty_of_bern
			}
			PAD = {
				add_ideas = EU_treaty_of_bern
			}
			ITA = {
				add_ideas = EU_treaty_of_bern
			}
			#
			OCH = {
				add_ideas = NAU_central_authority
			}
			SIT = {
				add_ideas = NAU_central_authority
			}
			SEI = {
				add_ideas = NAU_central_authority
			}
			CIN = {
				add_ideas = NAU_central_authority
			}
			CUA = {
				add_ideas = NAU_central_authority
			}
			TRE = {
				add_ideas = NAU_central_authority
			}
			DOS = {
				add_ideas = NAU_central_authority
			}
			ONE = {
				add_ideas = NAU_central_authority
			}
			PNM = {
				add_ideas = NAU_central_authority
			}
		}
	}
	on_startup = {
		effect = {
			every_country = {
				set_variable = { augment_law_cost_base = 75 }
                set_variable = { augment_law_cost_factor = 1}
                set_variable = { augment_law_cost_modified = augment_law_cost_base}
			}
		}
	}
	on_startup = {
		effect = {
			SIB = {
                set_variable = { sib_discontent = 0 }
				set_variable = { sib_socialist_support = 0 }
				set_variable = { sib_discontent_min = 0 }
				set_variable = { sib_socialist_support_min = 0 }
				set_variable = { sib_discontent_max = 100 }
				set_variable = { sib_socialist_support_max = 100 }
            }
			KAZ = {
				set_variable = { harmony_ticker = 1 }
				set_variable = { divinity_ticker = 1 }
				set_variable = { supremacist_ticker = 0 }
				set_variable = { undecided_ticker = 2 }
				set_country_flag = kaz_before_elections
			}
			JAP = {
				set_variable = { JAP_meka_factories = 0 }
				set_variable = { JAP_meka_parts = 0 }
			}
			#SOV = {
			#	set_variable = { titan_global_devastation = 0 }
			#	clamp_variable = {
			#		var = titan_global_devastation
			#		min = 0
			#		max = 100
			#	}
			#}
		}
	}
	on_startup = {
		effect = {
			318 = {
				add_dynamic_modifier = { modifier = swi_regional_government }
			}
		}
	}

	#THIS IS FOR FRA CHANGING CAPITAL AROUND GOD DAMN SO COOL IT IS MADRID, THEN LISBON, THEN IDK IT IS JUST EPIC LOL OMG SAVE ME IT IS SO HOT IN SPAIN
	on_monthly_FRA = {
		effect = {
			add_to_variable = { change_FRA_capital_please = 1 }
			if = {
				limit = { 
					check_variable = { change_FRA_capital_please = 12 }
					297 = { 
						is_capital = yes 
						is_owned_by = FRA
					}
				}
				set_variable = { change_FRA_capital_please = 0 }
				set_capital = { state = 273 }
			}
			if = {
				limit = { 
					check_variable = { change_FRA_capital_please = 12 }
					273 = { 
						is_capital = yes 
						is_owned_by = FRA
					}
				}
				set_variable = { change_FRA_capital_please = 0 }
				set_capital = { state = 256 }
			}
			if = {
				limit = { 
					check_variable = { change_FRA_capital_please = 12 }
					256 = { 
						is_capital = yes 
						is_owned_by = FRA
					}
				}
				set_variable = { change_FRA_capital_please = 0 }
				set_capital = { state = 234 }
			}
			if = {
				limit = { 
					check_variable = { change_FRA_capital_please = 12 }
					234 = { 
						is_capital = yes 
						is_owned_by = FRA
					}
				}
				set_variable = { change_FRA_capital_please = 0 }
				set_capital = { state = 297 }
			}
		}
	}
}