on_actions = {
	###
	on_declare_war = {
		effect = {
			every_country = {
				if = {
					limit = {
						any_guaranteed_country = {
							tag = FROM
						}
					}
					declare_war_on = {
						target = ROOT
						type = puppet_wargoal_focus
					}
				}
			}
		}
	}
	###
	#on_peaceconference_ended = {  #EVERY TECH GIVEN GENERATES A POPUP!
	#	effect = {
	#		if = {
	#			limit = {
	#				FROM = {
	#					OR = {
	#						capital_scope = {
	#							is_owned_by = ROOT
	#						}
	#						is_puppet_of = ROOT
	#					}
	#				}
	#			}
	#			ROOT = {
	#				inherit_technology = FROM
	#			}
	#		}
	#		else = {
	#			#
	#		}
	#	}
	#}
	###
	on_peaceconference_ended = {  #REMOVE IS_PUPPET TRIGGERS????
		effect = {
			if = {
				limit = {
					OR = {
						has_global_flag = final_war_flag
						ROOT = {
							is_ai = no
						}
					}
				}
				#
			}
			#INDIA
			else_if = {
				limit = {
					FROM = {
						is_puppet_of = BHR
						OR = {
							tag = KAS
							tag = PUN
							tag = SIN
							tag = RAJ
							tag = NAX
							tag = MAH
							tag = ODS
							tag = KRT
							tag = KRL
							tag = TAM
							tag = SRL
							tag = BNG
						}
					}
					ROOT = {
						tag = BHR
					}
				}
				FROM = {
					every_core_state = {
						remove_core_of = FROM
						add_core_of = ROOT
						transfer_state_to = ROOT
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						is_puppet_of = KAV
						OR = {
							tag = KAS
							tag = PUN
							tag = SIN
							tag = RAJ
							tag = NAX
							tag = MAH
							tag = ODS
							tag = KRT
							tag = KRL
							tag = TAM
							tag = SRL
							tag = BNG
						}
					}
					ROOT = {
						tag = KAV
					}
				}
				FROM = {
					every_core_state = {
						remove_core_of = FROM
						add_core_of = ROOT
						transfer_state_to = ROOT
					}
				}
			}
			#KAR-SOV WAR
			else_if = {
				limit = {
					FROM = {
						tag = SOV
					}
					ROOT = {
						tag = KAR
					}
				}
				ROOT = {
					set_cosmetic_tag = KAR_russia
				}
			}
			#SOV-KAZ WAR
			else_if = {
				limit = {
					FROM = {
						tag = KAZ
					}
					ROOT = {
						tag = SOV
					}
				}
				FROM = {
					every_core_state = {
						remove_core_of = FROM
						add_core_of = ROOT
						transfer_state_to = ROOT
					}
				}
			}
			#NOR-SWE WAR
			else_if = {
				limit = {
					FROM = {
						tag = SWE
					}
					ROOT = {
						tag = NOR
					}
				}
				SCO = {
					puppet = FROM
				}
			}
			#COS-URG-BRA WAR
			else_if = {
				limit = {
					FROM = {
						tag = URG
						is_puppet_of = COS
						any_core_state = {
							is_owned_by = BGV
						}
					}
					ROOT = {
						tag = COS
					}
				}
				FROM = {
					every_core_state = {
						transfer_state_to = FROM
					}
				}
				BGV = {
					transfer_state = 176
					transfer_state = 185
				}
			}
			#DOS-CAS WAR
			else_if = {
				limit = {
					FROM = {
						tag = CAS
					}
					ROOT = {
						tag = DOS
					}
				}
				ROOT = {
					every_owned_state = {
						limit = {
							is_core_of = FROM
						}
						remove_core_of = FROM
					}
				}
				ARC = {
					add_to_faction = ROOT
				}
			}
			#CAS-DOS WAR
			else_if = {
				limit = {
					FROM = {
						tag = DOS
					}
					ROOT = {
						tag = CAS
					}
				}
				ROOT = {
					every_owned_state = {
						limit = {
							is_core_of = FROM
						}
						remove_core_of = FROM
					}
					add_ideas = NAU_central_authority_low
				}
				PNM = {
					add_to_faction = ROOT
				}
			}
			#TRE-ONU WAR
			else_if = {
				limit = {
					FROM = {
						tag = ONU
					}
					ROOT = {
						tag = TRE
					}
				}
				ROOT = {
					annex_country = {
						target = FROM
					}
					every_owned_state = {
						limit = {
							is_core_of = FROM
						}
						remove_core_of = FROM
					}
				}
				ARC = {
					add_to_faction = ROOT
				}
			}
			#DOS-SIL WAR
			else_if = {
				limit = {
					FROM = {
						tag = SIL
					}
					ROOT = {
						tag = DOS
					}
				}
				ROOT = {
					remove_ideas = DOS_to_the_coast
					every_owned_state = {
						limit = {
							is_core_of = FROM
						}
						remove_core_of = FROM
					}
					set_capital = { #gives error if capital set to 12 in history file ;_;
						state = 12
						remember_old_capital = no
					}
				}
			}
			#ONE-CAL WAR
			else_if = {
				limit = {
					FROM = {
						tag = CAL
					}
					ROOT = {
						tag = ONE
					}
				}
				ROOT = {
					annex_country = {
						target = FROM
					}
					every_owned_state = {
						limit = {
							is_core_of = FROM
						}
						remove_core_of = FROM
					}
				}
				PNM = {
					add_to_faction = ROOT
				}
			}
			#TZN-COG WAR
			else_if = {
				limit = {
					FROM = {
						OR = {
							tag = COG
							tag = SAF
							tag = ANG
						}
						is_puppet_of = ROOT
					}
					ROOT = {
						tag = TZN
					}
				}
				FROM = {
					every_owned_state = {
						remove_core_of = FROM
						add_core_of = ROOT
						transfer_state_to = ROOT
					}
				}
				ROOT = {
					set_cosmetic_tag = TZN_AFRICA
				}
			}
			#KAZ-URA WAR
			else_if = {
				limit = {
					FROM = {
						tag = URA
						is_puppet_of = ROOT
					}
					ROOT = {
						tag = KAZ
					}
				}
				FROM = {
					every_owned_state = {
						remove_core_of = FROM
						add_core_of = ROOT
						transfer_state_to = ROOT
					}
				}
			}
			#GRP-BGV WAR
			else_if = {
				limit = {
					FROM = {
						tag = BGV
					}
					ROOT = {
						tag = GRP
					}
				}
				FROM = {
					every_owned_state = {
						remove_core_of = FROM
						add_core_of = ROOT
						transfer_state_to = ROOT
					}
				}
				ROOT = {
					set_cosmetic_tag = GRP_BRA
				}
			}
			#BGV-LEG WAR
			else_if = {
				limit = {
					FROM = {
						tag = LEG
					}
					ROOT = {
						tag = BGV
					}
				}
				FROM = {
					every_core_state = {
						remove_core_of = FROM
					}
				}
			}
			#PAD-ITA WAR
			else_if = {
				limit = {
					FROM = {
						tag = ITA
					}
					ROOT = {
						tag = PAD
					}
				}
				FROM = {
					every_core_state = {
						remove_core_of = FROM
						add_core_of = ROOT
						transfer_state_to = ROOT
					}
				}
				ROOT = {
					set_cosmetic_tag = PAD_italy
					set_capital = {
						state = 334
						#remember_old_capital = no #?
					}
				}
			}
			#COS-ARG WAR
			else_if = {
				limit = {
					FROM = {
						tag = ARG
					}
					ROOT = {
						tag = COS
					}
				}
				FROM = {
					every_core_state = {
						remove_core_of = FROM
						add_core_of = ROOT
						transfer_state_to = ROOT
					}
				}
				ROOT = {
					set_cosmetic_tag = ARG_COS
					set_capital = {
						state = 154
						remember_old_capital = no
					}
				}
			}
			#ARG-COS WAR
			else_if = {
				limit = {
					FROM = {
						tag = COS
					}
					ROOT = {
						tag = ARG
					}
				}
				FROM = {
					every_core_state = {
						remove_core_of = FROM
						add_core_of = ROOT
						transfer_state_to = ROOT
					}
				}
				ROOT = {
					set_cosmetic_tag = ARG_ARG
				}
				PRU = { #SHOULD BE REMOVED FROM HERE SOMEHOW!
					add_to_faction = ARG
					add_to_faction = CHL
				}
			}
			#COS-CHL WAR
			else_if = {
				limit = {
					FROM = {
						tag = CHL
					}
					ROOT = {
						tag = COS
					}
				}
				FROM = {
					every_core_state = {
						#remove_core_of = FROM
						add_core_of = ROOT
						transfer_state_to = ROOT
					}
				}
				ROOT = {
					set_cosmetic_tag = COS_CHL
				}
			}
			#ENG CIVIL WAR
			else_if = {
				limit = {
					FROM = {
						OR = {
							tag = HNG
							tag = CNG
							tag = JNG
							tag = ENG
						}
					}
					ROOT = {
						OR = {
							tag = HNG
							tag = CNG
							tag = JNG
							tag = ENG
						}
					}
				}
				FROM = {
					every_core_state = {
						remove_core_of = FROM
						#add_core_of = ROOT
						#transfer_state_to = ROOT
						#remove_dynamic_modifier = {
						#	modifier = eng_cw_modifier
						#}
					}
				}
				#ROOT = {
				#	set_cosmetic_tag = ENG
				#	set_capital = {
				#		state = 1023
				#		remember_old_capital = no
				#	}
				#}
				#set_global_flag = ECW_end
			}
			else = {
				#
			}
		}
	}
	###
}
