on_actions = {
	on_startup = {
		effect = {
            every_country = {
                limit = {
                    NOT = {
                        OR = {
                            has_idea = anarchy_style
                            tag = COL
                            tag = COS
                            tag = NAX
                            tag = USA
                            tag = SIL
                        }
                    }
                }
                set_country_flag = international_member
            }
			every_country = {
                limit = {
                    has_country_flag = international_member
                }
                set_variable = { diplomatic_power = 0 }
                set_variable = { diplomatic_power_civilian = 0 }
                set_variable = { diplomatic_power_military = 0 }
                set_variable = { diplomatic_power_techs = 0 }
                set_variable = { diplomatic_power_trade = 0 }
                set_variable = { diplomatic_power_population = 0 }
                set_variable = { diplomatic_power_other = 0 }
                add_to_variable = { diplomatic_power_techs = num_researched_technologies }
                if = {
                    limit = {
                        check_variable = {
                            max_manpower > 2000000000
                        }
                    }
                    set_variable = { diplomatic_power_population = 200 }
                }
                else = {
                    add_to_variable = { diplomatic_power_population = max_manpower_k }
                    divide_variable = { diplomatic_power_population = 10000 }
                }
                add_to_variable = { diplomatic_power_civilian = num_owned_controlled_states }
                add_to_variable = { diplomatic_power_civilian = num_of_civilian_factories }
                add_to_variable = { diplomatic_power_trade = resource_exported@steel }
                add_to_variable = { diplomatic_power_trade = resource_exported@aluminium }
                add_to_variable = { diplomatic_power_trade = resource_exported@rubber }
                add_to_variable = { diplomatic_power_trade = resource_exported@tungsten }
                add_to_variable = { diplomatic_power_trade = resource_exported@chromium }
                add_to_variable = { diplomatic_power_trade = resource_exported@oil }
                divide_variable = { diplomatic_power_trade = 10 }
                add_to_variable = { diplomatic_power_military = num_subjects }
                add_to_variable = { diplomatic_power_military = num_ships }
                add_to_variable = { diplomatic_power_military = num_armies }
                add_to_variable = { diplomatic_power_military = num_faction_members }
                add_to_variable = { diplomatic_power_military = num_of_military_factories }
                add_to_variable = { diplomatic_power_military = num_of_naval_factories }
                #
                round_variable = diplomatic_power_civilian
                round_variable = diplomatic_power_military
                round_variable = diplomatic_power_trade
                round_variable = diplomatic_power_population
                round_variable = diplomatic_power_other
                #
                add_to_variable = { diplomatic_power = diplomatic_power_civilian }
                add_to_variable = { diplomatic_power = diplomatic_power_military }
                add_to_variable = { diplomatic_power = diplomatic_power_trade }
                add_to_variable = { diplomatic_power = diplomatic_power_population }
                add_to_variable = { diplomatic_power = diplomatic_power_other }
                #
                round_variable = diplomatic_power
            }
		}
	}
    ###
    on_daily_ADU = {
		effect = {
            every_country = {
                limit = {
                    has_country_flag = international_member
                }
                set_variable = { diplomatic_power = 0 }
                set_variable = { diplomatic_power_civilian = 0 }
                set_variable = { diplomatic_power_military = 0 }
                set_variable = { diplomatic_power_techs = 0 }
                set_variable = { diplomatic_power_trade = 0 }
                set_variable = { diplomatic_power_population = 0 }
                set_variable = { diplomatic_power_other = 0 }
                add_to_variable = { diplomatic_power_techs = num_researched_technologies }
                if = {
                    limit = {
                        check_variable = {
                            max_manpower > 2000000000
                        }
                    }
                    set_variable = { diplomatic_power_population = 200 }
                }
                else = {
                    add_to_variable = { diplomatic_power_population = max_manpower_k }
                    divide_variable = { diplomatic_power_population = 10000 }
                }
                add_to_variable = { diplomatic_power_civilian = num_owned_controlled_states }
                add_to_variable = { diplomatic_power_civilian = num_of_civilian_factories }
                add_to_variable = { diplomatic_power_trade = resource_exported@steel }
                add_to_variable = { diplomatic_power_trade = resource_exported@aluminium }
                add_to_variable = { diplomatic_power_trade = resource_exported@rubber }
                add_to_variable = { diplomatic_power_trade = resource_exported@tungsten }
                add_to_variable = { diplomatic_power_trade = resource_exported@chromium }
                add_to_variable = { diplomatic_power_trade = resource_exported@oil }
                divide_variable = { diplomatic_power_trade = 10 }
                add_to_variable = { diplomatic_power_military = num_subjects }
                add_to_variable = { diplomatic_power_military = num_ships }
                add_to_variable = { diplomatic_power_military = num_armies }
                add_to_variable = { diplomatic_power_military = num_faction_members }
                add_to_variable = { diplomatic_power_military = num_of_military_factories }
                add_to_variable = { diplomatic_power_military = num_of_naval_factories }
                #
                round_variable = diplomatic_power_civilian
                round_variable = diplomatic_power_military
                round_variable = diplomatic_power_trade
                round_variable = diplomatic_power_population
                round_variable = diplomatic_power_other
                #
                add_to_variable = { diplomatic_power = diplomatic_power_civilian }
                add_to_variable = { diplomatic_power = diplomatic_power_military }
                add_to_variable = { diplomatic_power = diplomatic_power_trade }
                add_to_variable = { diplomatic_power = diplomatic_power_population }
                add_to_variable = { diplomatic_power = diplomatic_power_other }
                #
                if = {
                    limit = {
                        has_idea = military_government
                        has_global_flag = rights_resolution_3_done
                    }
                    multiply_variable = { diplomatic_power = 0.5 }
                }
                if = {
                    limit = {
                        has_idea = synthetic_democracy
                        has_global_flag = rights_resolution_4_done
                    }
                    multiply_variable = { diplomatic_power = 0.5 }
                }
                if = {
                    limit = {
                        has_idea = corporate_libertarianism
                        has_global_flag = rights_resolution_5_done
                    }
                    multiply_variable = { diplomatic_power = 0.5 }
                }
                if = {
                    limit = {
                        OR = {
                            has_idea = crumbling_society
                            has_idea = periphal_anarchy
                        }
                        has_global_flag = ecobalance_resolution_3_done
                    }
                    multiply_variable = { diplomatic_power = 0.5 }
                }
                if = {
                    limit = {
                        has_idea = flaking_society
                        has_global_flag = ecobalance_resolution_4_done
                    }
                    multiply_variable = { diplomatic_power = 0.5 }
                }
                if = {
                    limit = {
                        has_idea = mobilizing_society
                        has_global_flag = ecobalance_resolution_5_done
                    }
                    multiply_variable = { diplomatic_power = 0.5 }
                }
                if = {
                    limit = {
                        has_war = yes
                        has_global_flag = defense_resolution_3_done
                    }
                    multiply_variable = { diplomatic_power = 0.5 }
                }
                if = {
                    limit = {
                        has_war = yes
                        has_global_flag = defense_resolution_5_done
                    }
                    multiply_variable = { diplomatic_power = 0 }
                }
                round_variable = diplomatic_power
            }
            ###
            if = {
                limit = {
                    check_variable = {
                        global.proposed_resolution_days > 0
                    }
                }
                add_to_variable = {
                    global.proposed_resolution_days = -1
                }
            }
            else = {
                #
            }
        }
    }
    #
    on_declare_war = {
        effect = {
            if = {
                limit = {
                    has_country_flag = international_member
                    has_global_flag = defense_resolution_4_done
                }
                ROOT = {
                    add_stability = -0.2
                }
            }
            else_if = {
                limit = {
                    has_country_flag = international_member
                    has_global_flag = defense_resolution_2_done
                }
                ROOT = {
                    add_stability = -0.4
                }
            }
            else = {
                #
            }
        }
    }
}