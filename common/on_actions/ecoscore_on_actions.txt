on_actions = {
	
	on_startup = {
		effect = {
			every_country = {
				set_variable = {
					ecoscore_total = 0
				}
				set_variable = {
					ecoscore_points = num_of_factories
				}
				divide_variable = {
					ecoscore_points = num_owned_states
				}
				if = {
					limit = {
						check_variable = {
							ecoscore_points = 0
						}
					}
					set_variable = {
						ecoscore_total = 5
					}
				}
				else_if = {
					limit = {
						check_variable = {
							ecoscore_points < 1
						}
					}
					set_variable = {
						ecoscore_total = 4
					}
				}
				else_if = {
					limit = {
						check_variable = {
							ecoscore_points < 2
						}
					}
					set_variable = {
						ecoscore_total = 3
					}
				}
				else_if = {
					limit = {
						check_variable = {
							ecoscore_points < 3
						}
					}
					set_variable = {
						ecoscore_total = 2
					}
				}
				else = {
					set_variable = {
						ecoscore_total = 1
					}
				}
			}
		}
	}

	on_weekly = {
		effect = {
			every_country = {
				clear_variable = ecoscore_total
				clear_variable = ecoscore_points
				set_variable = {
					ecoscore_points = num_of_factories
				}
				divide_variable = {
					ecoscore_points = num_owned_states
				}
				if = {
					limit = {
						check_variable = {
							ecoscore_points = 0
						}
					}
					set_variable = {
						ecoscore_total = 5
					}
				}
				else_if = {
					limit = {
						check_variable = {
							ecoscore_points < 1
						}
					}
					set_variable = {
						ecoscore_total = 4
					}
				}
				else_if = {
					limit = {
						check_variable = {
							ecoscore_points < 2
						}
					}
					set_variable = {
						ecoscore_total = 3
					}
				}
				else_if = {
					limit = {
						check_variable = {
							ecoscore_points < 3
						}
					}
					set_variable = {
						ecoscore_total = 2
					}
				}
				else = {
					set_variable = {
						ecoscore_total = 1
					}
				}
			}
		}
	}

}