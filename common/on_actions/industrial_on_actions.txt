on_actions = {

	on_startup = {
		effect = {
			every_country = {
				limit = { 
                    has_industrial_power = yes
                }
                set_variable = { industrial_power = 0 }
                set_variable = { industrial_power_gain = 0 }
				set_variable = { industrial_power_rate_agrarian = 0.2 }
				set_variable = { industrial_power_rate_developing = 0.4 }
				set_variable = { industrial_power_rate_developed = 0.8 }
				set_variable = { industrial_power_rate_regional = 1 }
				set_variable = { industrial_power_rate_continental = 1.5 }
				set_variable = { industrial_power_rate_global = 2 }
            }
		}
	}
    
    on_daily = {
		effect = {
            set_variable = { industrial_power_modifier = 1 }
			if = {
				limit = { 
                    has_idea = agrarian_stage
                }
                
                add_to_variable = { industrial_power_gain = industrial_power_rate_agrarian }
				
                clamp_variable = { var = industrial_power min = 0 max = 2000 }
			}
			if = {
				limit = { 
                    has_idea = developing_stage
                }
                
                add_to_variable = { industrial_power_gain = industrial_power_rate_developing }
				
                clamp_variable = { var = industrial_power min = 0 max = 2000 }
			}
			if = {
				limit = { 
                    has_idea = developed_stage
                }
                
                add_to_variable = { industrial_power_gain = industrial_power_rate_developed }
				
                clamp_variable = { var = industrial_power min = 0 max = 2000 }
			}
			if = {
				limit = { 
                    has_idea = regional_stage
                }
                
                add_to_variable = { industrial_power_gain = industrial_power_rate_regional }
				
                clamp_variable = { var = industrial_power min = 0 max = 2000 }
			}
			if = {
				limit = { 
                    has_idea = continental_stage
                }
                
                add_to_variable = { industrial_power_gain = industrial_power_rate_continental }
				
                clamp_variable = { var = industrial_power min = 0 max = 2000 }
			}
			if = {
				limit = { 
                    has_idea = global_stage
                }
                
                add_to_variable = { industrial_power_gain = industrial_power_rate_global }
				
                clamp_variable = { var = industrial_power min = 0 max = 2000 }
			}
            ## Modifiers ##
			if = {
				limit = {
                    has_idea = crumbling_society
                }
                subtract_from_variable = { industrial_power_gain = 0.2 }
			}
			if = {
				limit = {
                    has_idea = periphal_anarchy
                }
                subtract_from_variable = { industrial_power_gain = 0.4 }
			}
			if = {
				limit = {
                    has_idea = urban_collapse
                }
                subtract_from_variable = { industrial_power_gain = 0.8 }
			}
            if = {
                limit = {
                    has_idea = nadl_industries
                }
                add_to_variable = {industrial_power_gain = 0.4}
                clamp_variable = {var = industrial_power min=0 max=2000}
            }
            if = {
                limit = {
                    has_idea = incom_international
                }
                add_to_variable = {industrial_power_gain = 0.3}
                clamp_variable = {var = industrial_power min=0 max=2000}
            }
            if = {
                limit = {
                    has_idea = pavlov_energy
                }
                add_to_variable = {industrial_power_gain = -0.1}
                clamp_variable = {var = industrial_power min=0 max=2000}
            }
            if = {
                limit = {
                    has_country_flag = holo_concern
                }
                add_to_variable = {industrial_power_gain = 0.15}
                clamp_variable = {var = industrial_power min=0 max=2000}
            }
			if = {
				limit = { 
                    has_idea = nothing_left_idea
                }
                multiply_variable = { industrial_power_gain = 0 }
                add_to_variable = { industrial_power = 0.05 }
			}
			if = {
				limit = { 
                    has_idea = small_loans
                }
                subtract_from_variable = { industrial_power_gain = 1.5 }
			}
			if = {
				limit = { 
                    has_idea = large_loans
                }
                subtract_from_variable = { industrial_power_gain = 2.5 }
			}
			if = {
				limit = { 
                    has_country_flag = consumption_one
                }
                add_to_variable = { industrial_power_modifier = 0.15 }
			}
			if = {
				limit = { 
                    has_idea = PUN_earths_gaping_wound
                }
                subtract_from_variable = { industrial_power_modifier = 0.5 }
			}
			if = {
				limit = { 
                    has_idea = ODS_park_of_rotten_steal
                }
                add_to_variable = { industrial_power_modifier = 0.05 }
			}
			if = {
				limit = { 
                    has_idea = BNG_behavioral_sink
                }
                subtract_from_variable = { industrial_power_modifier = 0.5 }
			}
			if = {
				limit = { 
                    has_idea = BAN_precarious_supply_situation
                }
                subtract_from_variable = { industrial_power_modifier = 0.15 }
			}
			if = {
				limit = { 
                    has_idea = ASM_token_aid_from_north
                }
                add_to_variable = { industrial_power_modifier = 0.1 }
			}
			if = {
				limit = { 
                    has_idea = TAM_civanin_virarkal
                }
                subtract_from_variable = { industrial_power_gain = 0.3 }
			}
			if = {
				limit = { 
                    has_idea = PER_winning_minds_not_hearts
                }
                subtract_from_variable = { industrial_power_gain = 0.01 }
			}
            multiply_variable = { industrial_power_gain = industrial_power_modifier }
            add_to_variable = { industrial_power = industrial_power_gain }
            clear_variable = industrial_power_gain
        }
    }
}