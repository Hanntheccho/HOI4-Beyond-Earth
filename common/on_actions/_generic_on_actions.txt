on_actions = {
    on_startup = {
        effect = {
            every_country = {
                if = {
                    limit = {
                        has_idea = free_trade
                    }
                    add_to_variable = { 
                        THIS.total_tech_power = 15
                    }
                }
                else_if = {
                    limit = {
                        has_idea = export_focus
                    }
                    add_to_variable = { 
                        THIS.total_tech_power = 10
                    }
                }
                else_if = {
                    limit = {
                        has_idea = limited_exports
                    }
                    add_to_variable = { 
                        THIS.total_tech_power = 5
                    }
                }
                if = {
                    limit = {
                        has_idea = agrarian_stage
                    }
                    add_to_variable = { 
                        THIS.total_tech_power = -10
                    }
                }
                else_if = {
                    limit = {
                        has_idea = developed_stage
                    }
                    add_to_variable = { 
                        THIS.total_tech_power = 10
                    }
                }
                else_if = {
                    limit = {
                        has_idea = regional_stage
                    }
                    add_to_variable = { 
                        THIS.total_tech_power = 20
                    }
                }
                else_if = {
                    limit = {
                        has_idea = continental_stage
                    }
                    add_to_variable = { 
                        THIS.total_tech_power = 25
                    }
                }
                else_if = {
                    limit = {
                        has_idea = global_stage
                    }
                    add_to_variable = { 
                        THIS.total_tech_power = 30
                    }
                }
                if = {
                    limit = {
                        has_idea = digital_democracy
                    }
                    add_to_variable = { 
                        THIS.total_tech_power = 5
                    }
                }
            }
        }
    }
    on_weekly = {
        effect = {
            set_variable = {
                ROOT.total_tech_power = 0
            }
            if = {
                limit = {
                    has_idea = free_trade
                }
                add_to_variable = { 
                    ROOT.total_tech_power = 15
                }
            }
            else_if = {
                limit = {
                    has_idea = export_focus
                }
                add_to_variable = { 
                    ROOT.total_tech_power = 10
                }
            }
            else_if = {
                limit = {
                    has_idea = limited_exports
                }
                add_to_variable = { 
                    ROOT.total_tech_power = 5
                }
            }
            if = {
                limit = {
                    has_idea = agrarian_stage
                }
                add_to_variable = { 
                    ROOT.total_tech_power = -10
                }
            }
            else_if = {
                limit = {
                    has_idea = developed_stage
                }
                add_to_variable = { 
                    ROOT.total_tech_power = 10
                }
            }
            else_if = {
                limit = {
                    has_idea = regional_stage
                }
                add_to_variable = { 
                    ROOT.total_tech_power = 20
                }
            }
            else_if = {
                limit = {
                    has_idea = continental_stage
                }
                add_to_variable = { 
                    ROOT.total_tech_power = 25
                }
            }
            else_if = {
                limit = {
                    has_idea = global_stage
                }
                add_to_variable = { 
                    ROOT.total_tech_power = 30
                }
            }
            if = {
                limit = {
                    has_idea = digital_democracy
                }
                add_to_variable = { 
                    ROOT.total_tech_power = 5
                }
            }
            every_controlled_state = {
                add_to_variable = { 
                    ROOT.total_tech_power = building_level@spaceship_complex 
                }
            }
        }
    }
###
    on_startup = {
        effect = {
            every_country = {
                limit = {
                    is_ai = no
                }
                set_country_flag = scan_mode_on_glow
            }
        }
    }
###
    on_startup = {
        effect = {
            every_country = {
                if = {
                    limit = {
                        has_idea = digital_democracy
                    }
                    set_variable = {
                        get_political_power_cost_to_declare_war = 200
                    }
                }
                else_if = {
                    limit = {
                        has_idea = autocratic_authority
                    }
                    set_variable = {
                        get_political_power_cost_to_declare_war = 100
                    }
                }
                else_if = {
                    limit = {
                        has_idea = unstable_leadership
                    }
                    set_variable = {
                        get_political_power_cost_to_declare_war = 300
                    }
                }
                else = {
                    set_variable = {
                        get_political_power_cost_to_declare_war = 150
                    }
                }
            }
        }
    }
###
    on_ruling_party_change = {
        effect = {
            reset_virtues_effect = yes
        }
    }
###
    on_weekly = {
        effect = {
            if = {
                limit = {
                    NOT = {
                        has_country_flag = generic_event_1
                    }
                    is_puppet = no
                    is_ai = no
                }
                random_list = {
                    5 = {
                        country_event = generic_event.1
                        set_country_flag = {
                            flag = generic_event_1
                            days = 200
                            value = 1
                        }
                    }
                    95 = {
                        #
                    }
                }
            }
            if = {
                limit = {
                    NOT = {
                        has_country_flag = generic_event_2
                    }
                    is_puppet = no
                    is_ai = no
                }
                random_list = {
                    5 = {
                        country_event = generic_event.2
                        set_country_flag = {
                            flag = generic_event_2
                            days = 200
                            value = 1
                        }
                    }
                    95 = {
                        #
                    }
                }
            }
            if = {
                limit = {
                    NOT = {
                        has_country_flag = generic_event_3
                    }
                    is_puppet = no
                    is_ai = no
                }
                random_list = {
                    5 = {
                        country_event = generic_event.3
                        set_country_flag = {
                            flag = generic_event_3
                            days = 200
                            value = 1
                        }
                    }
                    95 = {
                        #
                    }
                }
            }
        }
    }
}
