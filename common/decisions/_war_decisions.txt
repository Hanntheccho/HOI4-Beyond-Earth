war_decisions = {
	war_this_dude = {
		icon = GFX_decision_war_red
		state_target = yes
		on_map_mode = map_only
		available = {
			has_political_power > get_political_power_cost_to_declare_war			
		}
		fire_only_once = no
		target_trigger = {
			FROM = {
				is_capital = yes
				OWNER = {
					NOT = {
						OR = {
							tag = ROOT
							#is_puppet_of = ROOT
							has_war_with = ROOT
							#is_in_faction_with = ROOT
						}						
					}
				}
			}
		}
		days_remove = get_political_power_cost_to_declare_war
		cost = get_political_power_cost_to_declare_war
		war_with_target_on_remove = yes
		remove_effect = {
			if = {
				limit = {
					FROM.OWNER = {
						is_puppet_of = ROOT
					}
				}
				ROOT = {
					end_puppet = FROM.OWNER
				}
			}
			if = {
				limit = {
					FROM.OWNER = {
						is_in_faction_with = ROOT
					}
				}
				if = {
					limit = {
						ROOT = {
							is_faction_leader = yes
						}
						
					}
					FROM.OWNER = {
						leave_faction = yes
					}
				}
				else = {
					ROOT = {
						leave_faction = yes
					}
				}
			}
			declare_war_on = {
				target = FROM.OWNER
				type = annex_puppet_wargoal
			}			
		}
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					FROM.OWNER = {
						OR = {
							is_puppet_of = ROOT
							is_in_faction_with = ROOT
						}
					}
					NOT = {
						has_global_flag = final_war_flag
					}
				}
				add = -10000
			}
			modifier = {
				FROM.OWNER = {
					OR = {
						any_owned_state = {
							has_dynamic_modifier = {
								modifier = bridge_location_modifier
							}
						}
						any_owned_state = {
							has_dynamic_modifier = {
								modifier = quarters_location_modifier
							}
						}
						any_owned_state = {
							has_dynamic_modifier = {
								modifier = storage_location_modifier
							}
						}
						any_owned_state = {
							has_dynamic_modifier = {
								modifier = support_location_modifier
							}
						}
						any_owned_state = {
							has_dynamic_modifier = {
								modifier = engine_location_modifier
							}
						}
					}
				}
				add = 100
			}
		}
	}
}
