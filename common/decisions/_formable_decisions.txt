formable_decisions = {
	form_eu = {
		icon = GFX_decision_unity
		available = {
			if = {
				limit = {
					tag = GER
				}
				FRA = {
					is_puppet_of = ROOT
				}
				SCO = {
					is_puppet_of = ROOT
				}
			}
			if = {
				limit = {
					tag = FRA
				}
				GER = {
					is_puppet_of = ROOT
				}
				SCO = {
					is_puppet_of = ROOT
				}
			}
			if = {
				limit = {
					tag = SCO
				}
				FRA = {
					is_puppet_of = ROOT
				}
				GER = {
					is_puppet_of = ROOT
				}
			}
		}
		visible = {
			OR = {
				tag = FRA
				tag = GER
				tag = SCO
			}
		}
		fire_only_once = yes
		complete_effect = {
			every_state = {
				limit = {
					is_owned_by = ROOT
					is_on_continent = europe
				}
				add_core_of = ROOT
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					capital_scope = {
						is_on_continent = europe
					}
				}
				every_core_state = {
					add_core_of = ROOT
				}
				ROOT = {
					annex_country = {
						target = PREV
						#transfer_troops = yes
					}
				}
			}
			if = {
				limit = {
					tag = FRA
				}
				set_cosmetic_tag = FRA_eu_union
			}
			else_if = {
				limit = {
					tag = SCO
				}
				set_cosmetic_tag = SCO_EU
			}
			else = {
				set_cosmetic_tag = GER_green_europe
			}			
		}
		ai_will_do = {
			factor = 100
		}
	}
	###
	FRA_form_fed_med = {
		icon = GFX_decision_unity
		available = {
			tag = FRA
			PAD = {
				is_puppet_of = FRA
			}
			TUN = {
				is_puppet_of = FRA
			}
			has_country_leader = {
				character = FRA_elodie_batteux
				ruling_only = yes
			}
		}
		visible = {
			tag = FRA
		}
		fire_only_once = yes
		complete_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = PAD
						is_core_of = TUN
					}
				}
				add_core_of = FRA
			}
			annex_country = {
				target = PAD
				#transfer_troops = yes
			}
			annex_country = {
				target = TUN
				#transfer_troops = yes
			}
			FRA = {
				set_cosmetic_tag = FRA_med_fed
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	FRA_form_rep_lys = {
		icon = GFX_decision_unity
		available = {
			ITA = {
				is_puppet_of = FRA
			}
			has_country_leader = {
				character = FRA_al_hakim
				ruling_only = yes
			}
		}
		visible = {
			tag = FRA
		}
		fire_only_once = yes
		complete_effect = {
			every_state = {
				limit = {
					is_core_of = ITA
				}
				add_core_of = FRA
			}
			annex_country = {
				target = ITA
				#transfer_troops = yes
			}
			FRA = {
				set_cosmetic_tag = FRA_lys_rep
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	FRA_form_sos_government = {
		icon = GFX_decision_unity
		available = {
			surrender_progress > 0.3
		}
		visible = {
			tag = FRA
		}
		fire_only_once = yes
		complete_effect = {
			set_cosmetic_tag = FRA_conseil_nacional
			swap_ideas = {
				remove_idea = digital_democracy
				add_idea = anarchy_style
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	###
	BHR_kavithan_protectorate = {
		icon = GFX_decision_unity
		available = {
			NOT = {
				any_country = {
					is_india_tag = yes
					NOT = {
						is_puppet_of = BHR
						is_puppet_of = KAV
					}
				}
			}
		}

		visible = {
			tag = BHR
		}
	
		fire_only_once = yes
		complete_effect = {
			every_country = {
				limit = {
					OR = {
						is_india_tag = yes
						tag = KAV
					}
				}
				every_core_state = {
					add_core_of = BHR
				}
				every_owned_state = {
					transfer_state_to = BHR
				}
			}
			set_cosmetic_tag = INDIA_kavithan_protectorate
			set_global_flag = india_was_reunited_flag
			hidden_effect = {
				SRL = {
					every_core_state = {
						add_core_of = BHR
					}
				}
				annex_country = {
					target = SRL
				}
			}
		}
		
		ai_will_do = {
			factor = 100000
		}
	}
	###
	CHI_reformed = {
		icon = GFX_decision_unity
		available = {
			has_global_flag = CHI_balkanization
			CHI = {
				all_core_state = {
					is_owned_by = CHI
				}
			}
		}

		visible = {
			tag = CHI
		}
	
		fire_only_once = yes
		complete_effect = {
			set_cosmetic_tag = CHI_SCO_united
		}
		
		ai_will_do = {
			factor = 100000
		}
	}
	###
	form_nau = {
		icon = GFX_decision_unity
		available = {
			NOT = {
				any_country = {
					OR = {
						is_nau_tag = yes
						tag = ARC
						tag = PNM
					}
					NOT = {
						is_in_faction_with = ROOT
					}
				}
			}
		}

		visible = {
			OR = {
				tag = PNM
				tag = ARC
			}
		}
	
		fire_only_once = yes
		complete_effect = {
			every_country = {
				limit = {
					OR = {
						is_nau_tag = yes
						tag = ARC
						tag = PNM
					}
				}
				every_core_state = {
					add_core_of = ROOT
				}
				every_owned_state = {
					transfer_state_to = ROOT
				}
			}
			set_cosmetic_tag = NAU_united
			set_global_flag = nau_was_reunited_flag
		}
		
		ai_will_do = {
			factor = 100000
		}
	}
	form_afr = {
		icon = GFX_decision_unity
		available = {
			num_of_military_factories > 8 #can't be = 8, would softlock the player
		}

		visible = {
			tag = USA
		}
	
		fire_only_once = yes
		complete_effect = {
			TRE = {
				every_core_state = {
					add_core_of = ROOT
				}
				every_owned_state = {
					transfer_state_to = ROOT
				}
			}
			add_victory_points = {
				province = 1700
				value = 20
			}
			set_capital = {
				state = 91
				remember_old_capital = no
			}
			set_cosmetic_tag = USA_almost_united
			91 = { set_state_name = "Maryland" }
		}
		
		ai_will_do = {
			factor = 100000
		}
	}
	form_usa = {
		icon = GFX_decision_unity
		available = {
			NOT = {
				any_country = {
					OR = {
						is_nau_tag = yes
						tag = ARC
						tag = PNM
					}
					NOT = {
						OR = {
							is_puppet_of = ROOT
							exists = no
						}
					}
				}
			}
		}

		visible = {
			tag = USA
		}
	
		fire_only_once = yes
		complete_effect = {
			every_country = {
				limit = {
					OR = {
						is_nau_tag = yes
						tag = ARC
						tag = PNM
					}
				}
				every_core_state = {
					add_core_of = ROOT
				}
				every_owned_state = {
					transfer_state_to = ROOT
				}
			}
			set_cosmetic_tag = USA_united
			set_global_flag = usa_was_reunited_flag
		}
		
		ai_will_do = {
			factor = 100000
		}
	}
	###
	UK_JNG = {
		icon = GFX_decision_unity
		available = {
			SCO = {
				all_core_state = {
					is_owned_by = JNG
				}
			}
			ENG = {
				all_core_state = {
					is_owned_by = JNG
				}
			}
		}

		visible = {
			tag = JNG
		}
	
		fire_only_once = yes
		complete_effect = {
			create_faction = "European Front"
			country_event = england_event.22
			set_cosmetic_tag = GRB
		}
		
		ai_will_do = {
			factor = 100000
		}
	}
	###
	ARG_united = {
		icon = GFX_decision_unity
		available = {
			has_war = no
		}

		visible = {
			OR = {
				tag = ARG
				tag = COS
			}
		}
	
		fire_only_once = yes
		complete_effect = {
			if = {
				limit = {
					tag = COS
				}
				every_core_state = {
					remove_core_of = ARG
				}
				set_capital = {
					state = 154
					remember_old_capital = no
				}
			}
			else = {
				every_core_state = {
					remove_core_of = COS
				}
			}
			set_cosmetic_tag = ARG_ARG
		}
		
		ai_will_do = {
			factor = 100000
		}
	}
	###
	PAD_italia = {
		icon = GFX_decision_unity
		available = {
			ITA = {
				is_puppet_of = PAD
			}
		}

		visible = {
			tag = PAD
		}
	
		fire_only_once = yes
		complete_effect = {
			ITA = {
				every_core_state = {
					add_core_of = PAD
				}
			}
			annex_country = {
				target = ITA
			}
			set_cosmetic_tag = PAD_italy
			set_capital = {
				state = 334
				#remember_old_capital = no #?
			}
		}
		
		ai_will_do = {
			factor = 100000
		}
	}
	###
	TZN_united = {
		icon = GFX_decision_unity
		available = {
			ANG = {
				is_puppet_of = TZN
			}
			SAF = {
				is_puppet_of = TZN
			}
			COG = {
				is_puppet_of = TZN
			}
		}

		visible = {
			tag = TZN
		}
	
		fire_only_once = yes
		complete_effect = {
			set_cosmetic_tag = TZN_AFRICA
			COG = {
				every_core_state = {
					add_core_of = TZN
				}
				TZN = {
					annex_country = {
						target = PREV
					}
				}
			}
			ANG = {
				every_core_state = {
					add_core_of = TZN
				}
				TZN = {
					annex_country = {
						target = PREV
					}
				}
			}
			SAF = {
				every_core_state = {
					add_core_of = TZN
				}
				TZN = {
					annex_country = {
						target = PREV
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 100000
		}
	}
	###
	URA_democracy = {
		icon = GFX_decision_unity
		available = {
			URA = {
				is_puppet_of = KAZ
			}
		}

		visible = {
			tag = KAZ
		}
	
		fire_only_once = yes
		complete_effect = {
			URA = {
				set_cosmetic_tag = URA_democratic
			}
		}
		
		ai_will_do = {
			factor = 100000
		}
	}
}
